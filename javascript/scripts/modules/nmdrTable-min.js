function nmdrTable(t){t=nmdr.core.$(t,"nmdrTable");if(null!=t){var i=null;return t.columns=[],t.dataRows=[],t.originRows=[],t.selectedRows=[],t.menuCommands=[],t.selectedColumn=-1,t.selectedColumnOld=-1,t.pageNumber=1,t.pageCount=0,t.totalNumber=0,t.firstRow=0,t.lastRow=0,t.clickedRow=-1,t.rowMenuActRow=-1,t.headerMenuOpen=!1,t.rowMenuOpen=!1,t.SORT_ASCENDING="SortZA",t.SORT_DESCENDING="SortAZ",t.props={imagePath:"img/",rowLimit:10,sortingColumn:-1,sortingDirection:null,filters:{},customQuery:null,dataSplitter:",",filterSplitter:"&",filterDataSplitter:"|",menuColumn:-1,clientHandling:!0,doPostBack:!1,multiSelection:!1,showRowCommands:!1,showHeader:!1,showFooter:!1,showBorder:!0,showGrids:!0,showShadow:!1,showFilterData:!0,scrollable:!1,scrollable2:!1,dummyCols:6,dummyRows:6,lang:"en",patternNames:"",removeSortingLable:"",setFilterLable:"",removeFilterLable:"",pageLable:"",ofLable:"",totalLable:"",rowCountLable:"",gotoPageLable:"",color:"#000000",background:"#ffffff",borderColor:"#e0e0e0",borderWidth:"1px",fontFamily:"Arial, Helvetica, sans-serif",fontWidth:"normal",fontSize:"13px",checkSelectionColor:"rgb(0,113,198)",menuCellBackground:"rgb(156, 206, 240)",selcolumnWidth:20,menucolumnWidth:24,headerHeight:24,headerPadding:3,headerWhiteSpace:"nowrap",headerTextOverflow:"ellipsis",headerColor:"#000",headerBackground:"rgb(248, 248, 248)",headerFontFamily:"Arial, Helvetica, sans-serif",headerFontWidth:"bold",headerFontSize:"13px",headerSelectionColor:"rgba(156, 206, 240, 0.5)",headerHOverColor:"#000",headerHOverBackColor:"rgba(205,230,247,0.5)",bodyRowHeight:24,bodyPadding:3,bodyWhiteSpace:"nowrap",bodyTextOverflow:"ellipsis",bodySelectionColor:"#000",bodySelectionBackColor:"rgba(156, 206, 240, 0.5)",bodyHOverColor:"#000",bodyHOverBackColor:"rgba(205,230,247,0.5)",bodyAlternateColor:"rgba(242,246,252,0.5)",footerHeight:42,footerColor:"#000000",footerBackColor:"rgb(248, 248, 248)",footerFontFamily:"Arial, Helvetica, sans-serif",footerFontWidth:"normal",footerFontSize:"12px",footerShowPager:!0,footerShowGoPage:!0,footerShowRowCount:!0,footerShowPageInfo:!0,headerMenuWidth:280},t.init=function(t){t=t||{},this.props=nmdr.core.utils.mergeProperties(this.props,t),this.localization(),this.loadData(!0,!0)},t.localization=function(){"en"===this.props.lang?(this.props.patternNames=["is equal/x","is not equal/x","contains/x","not contains/x","starts with/x","ends with/x"],this.props.removeSortingLable="Remove Sorting",this.props.removeFilterLable="Remove Filter",this.props.setFilterLable="Set Filter",this.props.pageLable="Page",this.props.ofLable="of",this.props.totalLable="Total",this.props.rowCountLable="Row count",this.props.gotoPageLable="Go to page"):"de"===this.props.lang?(this.props.patternNames=["is equal/ist gleich","is not equal/ist nicht gleich","contains/enthält","not contains/enthält nicht","starts with/beginnt mit","ends with/endet mit"],this.props.removeSortingLable="Sortierung löschen",this.props.removeFilterLable="Filter löschen",this.props.setFilterLable="Filter setzen",this.props.pageLable="Seite",this.props.ofLable="von",this.props.totalLable="Total",this.props.rowCountLable="Anzahl Zeilen",this.props.gotoPageLable="Gehe zur Seite"):"fr"===this.props.lang?(this.props.patternNames=["is equal/est le même","is not equal/n'est pas égal","contains/contient","not contains/ne contient pas","starts with/commence par","ends with/se termine par"],this.props.removeSortingLable="Supprimer le tri",this.props.removeFilterLable="Supprimer le filtre",this.props.setFilterLable="Définir le filtre",this.props.pageLable="Page",this.props.ofLable="de",this.props.totalLable="Totalement",this.props.rowCountLable="Nombre de lignes",this.props.gotoPageLable="Aller à la page"):"es"===this.props.lang&&(this.props.patternNames=["is equal/es lo mismo","is not equal/no es igual","contains/contiene","not contains/no contiene","starts with/comienza con","ends with/termina con"],this.props.removeSortingLable="Eliminar clasificación",this.props.removeFilterLable="Eliminar filtro",this.props.setFilterLable="Establecer filtro",this.props.pageLable="Página",this.props.ofLable="de",this.props.totalLable="Total",this.props.rowCountLable="Numero de lineas",this.props.gotoPageLable="Ir a la página")},t.renderHeaderCell=function(t,e){return null},t.renderBodyCell=function(t,e,o,s){return null},t.getColumnWidth=function(t){return null},t.handleEvents=function(t){},t.openRow=function(t){alert("open row: "+t)},t.editRow=function(t){alert("edit row: "+t)},t.deleteRow=function(t){alert("delete row: "+t)},t.makeView=function(){var t=[],e=this.props,o="#"+this.id,e="<style type='text/css'>"+o+" { position: relative !important; width: 100%; height: 100%; box-sizing: border-box; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -o-box-sizing: border-box;}"+o+" .nmdrTB_content { overflow: hidden; color:"+e.color+"; background:"+e.background+"; font-family: "+e.fontFamily+"; font-weight: "+e.fontWidth+"; font-size: "+e.fontSize+"; border-width:"+(e.showBorder?e.borderWidth:"0px")+"; border-color:"+e.borderColor+"; border-style: solid; cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none;  user-select: none;"+(e.showShadow?"box-shadow:3px 3px 3px #ccc;":"")+"}"+o+" .nmdrTB_table { border-collapse: collapse; }"+o+" .nmdrTB_table td.nmdrTB_body_td { vertical-align: middle; }"+o+" .nmdrTB_table img { vertical-align: middle; cursor: pointer; }"+o+" .nmdrTB_header { background: "+e.headerSelectionColor+"; height: "+e.headerHeight+"px; }"+o+" .nmdrTB_header_tr {}"+o+" .nmdrTB_header_th { height: "+e.headerHeight+"px; color: "+e.headerColor+"; background: linear-gradient(#eee, "+e.headerBackground+"); font-family: "+e.headerFontFamily+"; font-weight: "+e.headerFontWidth+"; font-size: "+e.headerFontSize+"; border-bottom-width:"+(e.showBorder||e.showGrids?e.borderWidth:"0px")+"; border-bottom-color:"+e.borderColor+"; border-bottom-style: solid; padding: "+e.headerPadding+"px; padding-top: "+(e.headerPadding+1)+"px; text-align: left; white-space: "+e.headerWhiteSpace+"; text-overflow: "+e.headerTextOverflow+"; overflow: hidden;}"+o+" .nmdrTB_header_tr th.nmdrTB_header_th:not(:first-child) {  border-left: "+(e.showGrids?e.borderWidth:"0px")+" solid "+e.borderColor+";}"+o+" .nmdrTB_header_th:hover { color: "+e.headerHOverColor+"; background: "+e.headerHOverBackColor+"; transition:all 0.5s ease-in-out;}"+o+" .nmdrTB_header_th_sp:hover { cursor: pointer; }"+o+" .nmdrTB_header_th_se { width:"+e.selcolumnWidth+"px; text-align:center; }"+o+" .nmdrTB_header_th_cm { width:"+e.menucolumnWidth+"px; text-align:center; }"+o+" .nmdrTB_header_th_cm img { opacity: 0.3; }"+o+" .nmdrTB_body_tr { height: "+e.bodyRowHeight+"px; }"+o+" .nmdrTB_body_td { height: "+e.bodyRowHeight+"px; padding: "+e.bodyPadding+"px; white-space: "+e.bodyWhiteSpace+"; text-overflow: "+e.bodyTextOverflow+"; overflow: hidden;}"+o+" .nmdrTB_body_tr:nth-child(even) { background: "+e.bodyAlternateColor+"; }"+o+" .nmdrTB_body_tr:nth-child(odd) { background: "+e.background+"}"+o+" .nmdrTB_body_tr:hover { color: "+e.bodyHOverColor+"; background: "+e.bodyHOverBackColor+"; }"+o+" .nmdrTB_body_tr:hover td.nmdrTB_body_td:first-child { background: "+e.bodyHOverBackColor+"; }"+o+" .nmdrTB_body_tr td.nmdrTB_body_td:not(:first-child) { border-left: "+(e.showGrids?e.borderWidth:"0px")+" solid "+e.borderColor+";}"+o+" .nmdrTB_body_tr td.nmdrTB_body_td { border-bottom: "+(e.showGrids?e.borderWidth:"0px")+" solid "+e.borderColor+";}"+o+" .nmdrTB_body_tr td.nmdrTB_body_td a.nmdrTB_rowcontrol { visibility: hidden; float:right; }"+o+" .nmdrTB_body_tr_sel td.nmdrTB_body_td a.nmdrTB_rowcontrol { visibility: hidden; float:right; }"+o+" .nmdrTB_body_tr:hover td.nmdrTB_body_td a.nmdrTB_rowcontrol { visibility: visible; opacity: 0.3; }"+o+" .nmdrTB_body_tr:hover td.nmdrTB_body_td:first-child img:first-of-type { visibility: visible; }"+o+" .nmdrTB_body_tr:hover .nmdrTB_body_cm { visibility: visible; opacity: 0.3; }"+o+" .nmdrTB_body_tr_sel { color: "+e.bodySelectionColor+"; background: "+e.bodySelectionBackColor+"; }"+o+" .nmdrTB_body_tr_sel td.nmdrTB_body_td:not(:first-child) { border-left: "+(e.showGrids?e.borderWidth:"0px")+" solid "+e.borderColor+";}"+o+" .nmdrTB_body_tr_sel td.nmdrTB_body_td { border-bottom: "+(e.showGrids?e.borderWidth:"0px")+" solid "+e.borderColor+";}"+o+" .nmdrTB_body_tr_sel:hover td.nmdrTB_body_td a.nmdrTB_rowcontrol { visibility: visible !important; opacity: 1 !important;}"+o+" .nmdrTB_body_td_se { width:"+e.selcolumnWidth+"px; min-width:"+e.selcolumnWidth+"px; max-width:"+e.selcolumnWidth+"px; text-align:center;}"+o+" .nmdrTB_body_td_se_sel { background: "+e.checkSelectionColor+"; }"+o+" .nmdrTB_body_se { visibility: hidden; }"+o+" .nmdrTB_body_se_sel { visibility: visible; }"+o+" .nmdrTB_body_td_cm { width:"+e.menucolumnWidth+"px; min-width:"+e.menucolumnWidth+"px; max-width:"+e.menucolumnWidth+"px; text-align:center;}"+o+" .nmdrTB_body_td_cm_sel { background: "+e.menuCellBackground+"; }"+o+" .nmdrTB_body_cm { visibility: hidden; }"+o+" .nmdrTB_body_cm_sel { visibility: visible; }"+o+" .nmdrTB_footer {}"+o+" .nmdrTB_footer_tr {}"+o+" .nmdrTB_footer_td { padding: 0px; }"+o+" .nmdrTB_footer_div { width: 100%; height: "+e.footerHeight+"px; color: "+e.footerColor+"; background: linear-gradient(#eee, "+e.footerBackColor+"); font-family: "+e.footerFontFamily+"; font-weight: "+e.footerFontWidth+"; font-size: "+e.footerFontSize+"; border-top-width: "+(e.showBorder&&!e.showGrids?e.borderWidth:e.scrollable?"1px":"0px")+"; border-top-color: "+e.borderColor+"; border-top-style: solid;}"+o+" .nmdrTB_headerMenu { display: none; background-color: white; border: 1px solid #bbb; padding: 10px; width: "+e.headerMenuWidth+"px; line-height: 22px; font-family: arial,verdana,sans-serif; font-weight: normal; font-size: 12px; z-index: 999; box-shadow: 5px 5px 5px #ddd; transition: all 0.5s ease-in-out;}"+o+" .nmdrTB_rowMenu { display: none; background-color: white; border: 1px solid #bbb; padding: 5px; width: 200px; line-height: 22px; font-family: arial,verdana,sans-serif; font-weight: normal; font-size:12px; z-index: 999; box-shadow:5px 5px 5px #ddd; transition:all 0.5s ease-in-out;}"+o+" .nmdrTB_rowMenu img { vertical-align: middle; }"+o+" .nmdrTB_rowMenu_tr { height:28px; }"+o+" .rowMenuActRow, .nmdrTB_rowMenu_tr:hover {  background: "+e.bodyHOverBackColor+" !important;  cursor: pointer;}"+o+' .nmdrTB_loader { position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; display: none; cursor: wait; z-index: 999; background:#ffffff url("'+e.imagePath+'spLoader.gif") no-repeat center center; opacity: 0.75; filter: alpha(opacity=75);}'+(e.scrollable?o+" .nmdrTB_header_tr { display: block; }"+o+" .nmdrTB_body { display: block; overflow-y: scroll; overflow-x:hidden; height: "+(this.offsetHeight-e.headerHeight-e.footerHeight)+"px; }":o+" .nmdrTB_content {"+(e.scrollable2?"position:absolute; left:0px; top:0px; width:100%; height:100%; overflow-y:scroll;}":"}"))+"</style>";t.push(e),t.push("<script type='text/javascript'>(function() { })();<\/script>"),t.push(this.makeRowMenu()),t.push(this.makeHeaderMenu()),t.push(this.makeContent()),document.getElementById(this.id).innerHTML=t.join(""),this.configSize(),this.initKeyEvents()},t.makeContent=function(){var t=[];return t.push("<div class='nmdrTB_loader'></div>"),t.push("<div class='nmdrTB_content' tabindex='1'>"),t.push(this.makeTable()),t.push("</div>"),t.join("")},t.makeTable=function(){var t=[];return t.push("<table class='nmdrTB_table' border='0' cellpadding='0' cellspacing='0' onselectstart='return false' ondragstart='return false'>"),t.push(this.makeHeader()),t.push(this.makeBody()),t.push(this.makeFooter()),t.push("</table>"),t.join("")},t.makeHeader=function(){if(!this.props.showHeader)return"";var t=[];t.push("<thead class='nmdrTB_header'>"),t.push("<tr class='nmdrTB_header_tr'>");for(var e=0;e<this.columns.length;e++){0==e&&(t.push("<th class='nmdrTB_header_th nmdrTB_header_th_se'><img src='"+this.props.imagePath+"spCheck.png' "),t.push("onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'selectAll');\"></th>"),this.props.selcolumnWidth),e+1==this.props.menuColumn&&(t.push("<th class='nmdrTB_header_th nmdrTB_header_th_cm'><img src='"+this.props.imagePath+"spCMenu.gif'></th>"),this.props.menucolumnWidth);var o=this.getColumnWidth(e),s=this.props.sortingColumn==e?"<img src='"+this.props.imagePath+"sp"+this.props.sortingDirection+".png'":"",i=null!=this.props.filters[e]?"<img src='"+this.props.imagePath+"spFilter.png'>":"",r=this.renderHeaderCell(e,this.columns[e]);t.push("<th class='nmdrTB_header_th' id='"+this.id+"_nmdrTB_header_th"+e+"' "),t.push(o?"style='width:"+o+"px; min-width:"+o+"px; max-width:"+o+"px;'":""),t.push("onmouseOver=\"nmdr.core.$('"+this.id+"').selectHeader("+e+', true);" '),t.push("onmouseOut=\"nmdr.core.$('"+this.id+"').selectHeader("+e+', false);" '),t.push("onclick=\"nmdr.core.$('"+this.id+"').selectColumn(event, "+e+');">'),t.push("<table width=100% border='0' cellpadding='0' cellspacing='0'><tr>"),t.push("<td style='padding:0px 0px 0px 0px;'><table border='0' cellpadding='0' cellspacing='0'><tr>"),t.push("<td style='padding:0px 0px 0px 0px;'><span class='nmdrTB_header_th_sp' onClick=\"nmdr.core.$('"+this.id+"').sortColumn("+e+');">'+(r||this.columns[e])+"</span></td>"),t.push("<td style='width:20px; padding:0px 0px 0px 4px;'>"+s+"</td>"),t.push("<td style='width:16px; padding:0px 0px 0px 0px;'>"+i+"</td></tr></table></td>"),t.push("<td style='width:16px; padding:0px 4px 0px 0px; float:right;'>"),t.push("<img id='"+this.id+"_nmdrTB_hdm"+e+"' src='"+this.props.imagePath+"spMenu.png' "),t.push("onclick=\"nmdr.core.$('"+this.id+"').openHeaderMenu(event, this);\" style='visibility:hidden'></td>"),t.push("</tr></table></th>"),0}return t.push("</tr></thead>"),t.join("")},t.makeBody=function(){var t=[];if(t.push("<tbody class='nmdrTB_body'>"),0<this.dataRows.length)for(var e=this.props.clientHandling?this.firstRow:1,o=this.props.clientHandling?this.lastRow:this.props.rowLimit>this.totalNumber?this.totalNumber:this.props.rowLimit,s=e;s<=o;s++){var i=this.dataRows[s-1].split(this.props.dataSplitter),r=-1!=this.selectedRows.indexOf(s);t.push("<tr class='nmdrTB_body_tr"+(r?"_sel":"")+"' id='"+this.id+"_nmdrTB_body_tr"+s+"' "),t.push("onClick=\"nmdr.core.$('"+this.id+"').selectRows(event, "+s+');">');for(var n=0;n<i.length;n++){0==n&&(t.push("<td class='nmdrTB_body_td nmdrTB_body_td_se'>"),t.push("<img class='nmdrTB_body_se' src='"+this.props.imagePath+"spCheckSel.png'></td>")),n+1==this.props.menuColumn&&(t.push("<td class='nmdrTB_body_td nmdrTB_body_td_cm'>"),t.push("<img class='nmdrTB_body_cm' src='"+this.props.imagePath+"spCMenu.gif' "),t.push("onClick=\"nmdr.core.$('"+this.id+"').openRowMenu(event, "+s+');"></td>'));var l=this.getColumnWidth(n),d=this.renderBodyCell(s-1,n,i[n],r),a=this.props.showRowCommands&&n==i.length-1?"<table width='100%' height='100%' border='0' cellpadding='0' cellspacing='0'><tr><td style='vertical-align: middle;'>"+(d||i[n])+"</td><td style='text-alignment: right;'><a class='nmdrTB_rowcontrol'><img src='"+this.props.imagePath+"spOpen.gif' title='open row' onclick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'openRow', "+s+");\">&nbsp;<img src='"+this.props.imagePath+"spEdit.gif' title='edit row' onclick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'editRow', "+s+");\">&nbsp;<img src='"+this.props.imagePath+"spDelete.gif' title='delete row' onclick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'deleteRow', "+s+');">&nbsp;</a></td></tr></table>':null;this.props.scrollable&&l&&n==i.length-1&&(l-=18),t.push("<td class='nmdrTB_body_td'"),t.push(l?" style='width:"+l+"px; min-width:"+l+"px; max-width:"+l+"px;'>":">"),t.push(a||d||i[n]+"</td>")}t.push("</tr>")}return t.push("</tbody>"),t.join("")},t.makeFooter=function(){if(!this.props.showFooter)return"";var t=[],e=this.columns.length+(-1==this.props.menuColumn?1:2);return t.push("<tfoot class='nmdrTB_footer'>"),t.push("<tr class='nmdrTB_footer_tr'>"),t.push("<td class='nmdrTB_footer_td' colspan="+e+">"),t.push("<div class='nmdrTB_footer_div'>"+this.renderFooter()+"</div>"),t.push("</td></tr></tfoot>"),t.join("")},t.renderFooter=function(){var t=[];if(t.push("<table width='100%' height='100%' border='0' cellpadding='4px' cellspacing='0'><tr>"),this.props.footerShowPager)if(0<this.dataRows.length){var e=1<this.firstRow?"<img src='"+this.props.imagePath+"spPrevend.gif' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'firstPage');\"":"<img src='"+this.props.imagePath+"spPrevenddis.gif'",o=1<this.firstRow?"<img src='"+this.props.imagePath+"spPrev.gif' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'prevPage');\"":"<img src='"+this.props.imagePath+"spPrevdis.gif'",s=this.lastRow<this.totalNumber?"<img src='"+this.props.imagePath+"spNext.gif' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'nextPage');\"":"<img src='"+this.props.imagePath+"spNextdis.gif'",i=this.lastRow<this.totalNumber?"<img src='"+this.props.imagePath+"spNextend.gif' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'lastPage');\"":"<img src='"+this.props.imagePath+"spNextenddis.gif'";if(t.push("<td><table border='0' cellpadding='0' cellspacing='0'><tr>"),t.push("<td style='padding:0px 0px 0px 10px'>"+e+"'</td>"),t.push("<td style='padding:0px 0px 0px 10px'>"+o+"'</td>"),t.push("<td style='padding:0px 0px 0px 10px'>"+this.firstRow+"-"+this.lastRow+" / "+this.totalNumber+"</td>"),t.push("<td style='padding:0px 0px 0px 10px'>"+s+"'</td>"),t.push("<td style='padding:0px 0px 0px 10px'>"+i+"'</td>"),t.push("</tr></table>"),t.push("<td>"),t.push("<table border='0' cellpadding='0' cellspacing='0' style='margin-right:4px;margin-left:auto;'><tr><td></td>"),this.props.footerShowPageInfo&&t.push("<td style='padding:2px 0px 0px 0px;'><span>"+this.props.pageLable+" <b>"+this.pageNumber+"</b> "+this.props.ofLable+" <b>"+this.pageCount+"</b> / "+this.props.totalLable+" <b>"+this.totalNumber+"</b></span></td>"),this.props.footerShowGoPage){t.push("<td style='padding:2px 0px 0px 10px;'>"+this.props.gotoPageLable),t.push(" <select id='"+this.id+"_nmdrTB_goPageSelect' onchange=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'goToPage');\">"),t.push("<option value=''></option>");for(var r=1;r<=this.pageCount;r++)t.push("<option value='"+r+"'>"+r+"</option>");t.push("</select></td>")}this.props.footerShowRowCount&&(t.push("<td style='padding:2px 0px 0px 10px;'>"+this.props.rowCountLable),t.push(" <select id='"+this.id+"_nmdrTB_rowLimitSelect' onchange=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'setRowLimit');\">"),t.push("<option value='10' "+(10===this.props.rowLimit?"Selected":"")+">10</option>"),t.push("<option value='25' "+(25===this.props.rowLimit?"Selected":"")+">25</option>"),t.push("<option value='50' "+(50===this.props.rowLimit?"Selected":"")+">50</option>"),t.push("<option value='100' "+(100===this.props.rowLimit?"Selected":"")+">100</option>"),t.push("<option value='150' "+(150===this.props.rowLimit?"Selected":"")+">150</option>"),t.push("<option value='200' "+(200===this.props.rowLimit?"Selected":"")+">200</option>"),t.push("</select></td>")),t.push("</tr></table></td>")}else t.push("<td>This view contains no data.</td>");return t.push("</tr></table>"),t.join("")},t.configSize=function(){var t=this.getElementsByClassName("nmdrTB_table")[0];this.props.scrollable?this.style.width=t.offsetWidth+2+"px":t.style.width="100%"},t.updateTable=function(){this.getElementsByClassName("nmdrTB_content")[0].innerHTML=this.makeTable(),this.configSize()},t.loadData=function(e,o){var s=this;this.showLoader(!0),window.setTimeout(function(){var t=s.prepareData();s.columns=t.columns.slice(0),-1!==s.props.menuColumn&&(s.props.menuColumn=Math.max(s.props.menuColumn,1),s.props.menuColumn=Math.min(s.props.menuColumn,s.columns.length)),s.menuCommands=-1!==s.props.menuColumn?s.prepareMenuCommands():[],s.props.rowLimit=Math.min(s.props.rowLimit,t.rows.length),s.props.clientHandling?((i=s).originRows=t.rows.slice(0),s.dataRows=s.filterList(),s.dataRows.sort(s.sortComparator)):s.dataRows=t.rows.slice(0),e&&(s.pageNumber=1,s.totalNumber=s.dataRows.length,s.firstRow=1,s.lastRow=s.props.rowLimit>s.totalNumber?s.totalNumber:s.props.rowLimit,s.pageCount=Math.ceil(s.totalNumber/s.props.rowLimit)),o?s.makeView():s.updateTable(),s.showLoader(!1)},10)},t.selectRows=function(t,e,o){if(!o||this.props.multiSelection){if(this.deselect(),o){var s=this.selectedRows.length;if(this.clickedRow=-1,this.selectedRows=[],s!=this.props.rowLimit)for(var i=this.firstRow;i<=this.lastRow;i++)this.selectedRows.push(i)}else{s=this.selectedRows.indexOf(e);if(this.props.multiSelection){if(t&&t.ctrlKey)-1==s?this.selectedRows.push(e):(this.selectedRows.splice(s,1),e=-1);else if(t&&t.shiftKey){if(e<this.selectedRows[0])for(i=e;i<this.selectedRows[0];i++)this.selectedRows.push(i);else if(e>this.selectedRows[this.selectedRows.length-1])for(var r=this.selectedRows[this.selectedRows.length-1],i=e;r<i;i--)this.selectedRows.push(i)}else-1==s||1<this.selectedRows.length?(this.selectedRows=[],this.selectedRows[0]=e):(this.selectedRows=[],e=-1);this.selectedRows.sort(function(t,e){return t-e})}else-1==s?this.selectedRows[0]=e:(this.selectedRows=[],e=-1);this.clickedRow=e}this.select(),this.selectionChanged()}},t.select=function(){var n=this;this.selectedRows.forEach(function(t,e){var o=document.getElementById(n.id+"_nmdrTB_body_tr"+t),s=o.getElementsByClassName("nmdrTB_body_td_se")[0],i=o.getElementsByClassName("nmdrTB_body_se")[0],r=o.getElementsByClassName("nmdrTB_body_td_cm")[0],t=o.getElementsByClassName("nmdrTB_body_cm")[0];o.classList.remove("nmdrTB_body_tr"),o.classList.add("nmdrTB_body_tr_sel"),s.classList.add("nmdrTB_body_td_se_sel"),i.classList.add("nmdrTB_body_se_sel"),r&&(r.classList.add("nmdrTB_body_td_cm_sel"),t.classList.add("nmdrTB_body_cm_sel"))})},t.deselect=function(){var n=this;this.selectedRows.forEach(function(t,e){var o=document.getElementById(n.id+"_nmdrTB_body_tr"+t),s=o.getElementsByClassName("nmdrTB_body_td_se")[0],i=o.getElementsByClassName("nmdrTB_body_se")[0],r=o.getElementsByClassName("nmdrTB_body_td_cm")[0],t=o.getElementsByClassName("nmdrTB_body_cm")[0];o.classList.remove("nmdrTB_body_tr_sel"),o.classList.add("nmdrTB_body_tr"),s.classList.remove("nmdrTB_body_td_se_sel"),i.classList.remove("nmdrTB_body_se_sel"),r&&(r.classList.remove("nmdrTB_body_td_cm_sel"),t.classList.remove("nmdrTB_body_cm_sel"))})},t.clearSelection=function(){this.clickedRow=-1,this.selectedRows=[],this.selectionChanged()},t.selectionChanged=function(){var t=this.getSelection();this.handleEvents(t),this.handlePostBack(t)},t.getSelection=function(){for(var t=[],e=0;e<this.selectedRows.length;e++){var o=this.dataRows[this.selectedRows[e]-1].split(this.props.dataSplitter);t.push(o[0])}return t},t.selectColumn=function(t,e){},t.nextPage=function(){this.clearSelection(),this.pageNumber++,this.firstRow+=this.props.rowLimit,this.lastRow+=this.props.rowLimit,this.firstRow>this.totalNumber&&(this.firstRow=this.lastRow+1),this.lastRow>this.totalNumber&&(this.lastRow=this.totalNumber),this.props.clientHandling?this.updateTable():this.loadData(!1,!1)},t.prevPage=function(){this.pageNumber--,this.firstRow-=this.props.rowLimit,this.lastRow-=this.props.rowLimit,this.firstRow<1&&(this.firstRow=1),this.lastRow<this.firstRow+this.props.rowLimit&&(this.lastRow=this.firstRow+this.props.rowLimit-1),this.clearSelection(),this.props.clientHandling?this.updateTable():this.loadData(!1,!1)},t.firstPage=function(){this.pageNumber=1,this.firstRow=1,this.lastRow=this.props.rowLimit,this.clearSelection(),this.props.clientHandling?this.updateTable():this.loadData(!1,!1)},t.lastPage=function(){var t=this.totalNumber-(this.pageCount-1)*this.props.rowLimit;this.pageNumber=this.pageCount,this.firstRow=this.totalNumber-t,this.lastRow=this.totalNumber,this.clearSelection(),this.props.clientHandling?this.updateTable():this.loadData(!1,!1)},t.sortColumn=function(t){this.props.sortingColumn!=t&&(this.props.sortingDirection=null),this.props.sortingColumn=t,this.props.sortingDirection=null!=this.props.sortingDirection&&this.props.sortingDirection==this.SORT_DESCENDING?this.SORT_ASCENDING:this.SORT_DESCENDING,this.clearSelection(),this.doSort()},t.sortAZ=function(){this.props.sortingColumn=this.selectedColumn,this.props.sortingDirection=this.SORT_DESCENDING,this.clearSelection(),this.doSort()},t.sortZA=function(){this.props.sortingColumn=this.selectedColumn,this.props.sortingDirection=this.SORT_ASCENDING,this.clearSelection(),this.doSort()},t.removeSorting=function(){this.props.sortingColumn=-1,this.props.sortingDirection=null,this.clearSelection(),this.doSort()},t.doSort=function(){if(!this.props.clientHandling)return this.loadData(!1,!1);this.showLoader(!0);var t=this;window.setTimeout(function(){-1===t.props.sortingColumn?(t.dataRows=t.originRows.slice(0),t.doFilter()):(i=t).dataRows.sort(t.sortComparator),t.showLoader(!1),t.updateTable()},10)},t.sortComparator=function(t,e){var o=i;if(null==t&&null==e)return 0;if(null!=t&&null==e)return o.props.sortingDirection==o.SORT_DESCENDING?1:-1;if(null==t&&null!=e)return o.props.sortingDirection==o.SORT_DESCENDING?-1:1;t=t.split(o.props.dataSplitter),e=e.split(o.props.dataSplitter),t=t[o.props.sortingColumn],e=e[o.props.sortingColumn];return t==e?0:e<t?o.props.sortingDirection==o.SORT_DESCENDING?1:-1:o.props.sortingDirection==o.SORT_DESCENDING?-1:1},t.setFilter=function(){var t=this.props.filterSplitter,e=document.getElementById(this.id+"_nmdrTB_filterSelect").value,o=document.getElementById(this.id+"_nmdrTB_filterText").value,e=0<o.length?e+t+o:"",o=this.getFilterData();0<o.length&&(e+=0<e.length?e+t+o:t+t+o),0<e.length?(this.props.filters[this.selectedColumn]=e,this.clearSelection(),this.doFilter()):removeFilter()},t.removeFilter=function(){delete this.props.filters[this.selectedColumn],this.clearSelection(),this.doFilter()},t.doFilter=function(){if(!this.props.clientHandling)return this.loadData(!0,!1);this.showLoader(!0);var t=this;window.setTimeout(function(){t.dataRows=t.filterList(),t.pageNumber=1,t.totalNumber=t.dataRows.length,t.firstRow=0<t.dataRows.length?1:0,t.lastRow=t.props.rowLimit<t.totalNumber?t.props.rowLimit:t.totalNumber,t.pageCount=Math.ceil(t.totalNumber/t.props.rowLimit),t.showLoader(!1),t.updateTable()},10)},t.filterList=function(){var t=this.originRows.slice(0);if(0<Object.keys(this.props.filters).length)for(var e=t[0].split(this.props.dataSplitter),o=0;o<e.length;o++)t=this.doFilterList(t,o);return-1!==this.props.sortingColumn&&(i=this,t.sort(this.sortComparator)),t},t.doFilterList=function(t,e){var o,s=[];for(o in t){var i=t[o],r=i.split(this.props.dataSplitter),n=!0;if(this.props.filters[e]){var l=r[e],d=this.props.filters[e].split(this.props.filterSplitter);if(d[2]&&0<d[2].length){n=!1;var a,h=d[2].split(this.props.filterDataSplitter);for(a in h)if(l==h[a]){n=!0;break}}switch(d[0]){case"isequal":n&=l===d[1];break;case"isnotequal":n&=l!==d[1];break;case"contains":n&=-1!==l.indexOf(d[1]);break;case"notcontains":n&=-1==l.indexOf(d[1]);break;case"startswith":n&=0==l.indexOf(d[1]);break;case"endswith":n&=-1!==l.indexOf(d[1],l.length-d[1].length)}}n&&s.push(i)}return s},t.setRowLimit=function(){var t=document.getElementById(this.id+"_nmdrTB_rowLimitSelect").value;this.props.rowLimit=parseInt(t),this.props.clientHandling?(this.pageNumber=1,this.firstRow=0<this.dataRows.length?1:0,this.lastRow=this.props.rowLimit<this.totalNumber?this.props.rowLimit:this.totalNumber,this.pageCount=Math.ceil(this.totalNumber/this.props.rowLimit),this.clearSelection(),this.updateTable()):this.loadData(!0,!1)},t.goToPage=function(){var t=document.getElementById(this.id+"_nmdrTB_goPageSelect").value;t.length&&(this.pageNumber=parseInt(t),this.props.clientHandling?(this.firstRow=(this.pageNumber-1)*this.props.rowLimit+1,this.lastRow=this.firstRow+this.props.rowLimit-1,this.lastRow>this.totalNumber&&(this.lastRow=this.totalNumber),this.clearSelection(),this.updateTable()):this.loadData(!1,!1))},t.openHeaderMenu=function(t,e){var o=this,s=e.id.substring(e.id.indexOf("_hdm")+4),i=document.getElementById(this.id+"_nmdrTB_header_th"+s),r=this.getElementsByClassName("nmdrTB_headerMenu")[0],n=this.absPosition,i=i.absPosition;nmdr.core.utils.stopPropagation(t),i.left+r.offsetWidth>n.left+this.offsetWidth&&(i.left=n.left+this.offsetWidth-r.offsetWidth),r.style.display="inline-block",r.style.position="absolute",r.style.left=i.left-n.left+"px",r.style.top=i.top-n.top+(this.props.headerHeight+8)+"px",nmdr.core.popup.open(r,e,function(){nmdr.core.animate.fadeIn(null,r,null,!0,function(){o.headerMenuOpen=!0})},function(t){o.closeHeaderMenu(null,o,t)}),document.getElementById(this.id+"_nmdrTB_filterColumnName").text=this.columns[s],this.selectedColumnOld=this.selectedColumn,this.selectedColumn=parseInt(s),document.getElementById(this.id+"_nmdrTB_filterSelect").innerHTML=this.prepareFilterPattern(!1),document.getElementById(this.id+"_nmdrTB_filterText").value=this.prepareFilterPattern(!0),this.props.showFilterData&&(document.getElementById(this.id+"_nmdrTB_filterData").innerHTML=this.prepareFilterData()),-1!=this.selectedColumnOld&&(document.getElementById(this.id+"_nmdrTB_header_th"+this.selectedColumnOld).style.opacity=1)},t.closeHeaderMenu=function(t,e,o){null==e&&(e=this);var s=e.getElementsByClassName("nmdrTB_headerMenu")[0];nmdr.core.animate.fadeOut(null,s,null,!0,function(){s.style.display="none",document.getElementById(e.id+"_nmdrTB_header_th"+e.selectedColumn).style.opacity=1,e.headerMenuOpen=!1,e.handleCommand(null,t),e.selectedColumn=-1,e.selectedColumnOld=-1,o&&o()}),nmdr.core.popup.close()},t.openRowMenu=function(t,e){var o=this,s=document.getElementById(this.id+"_nmdrTB_body_tr"+e).getElementsByClassName("nmdrTB_body_cm")[0],i=this.getElementsByClassName("nmdrTB_rowMenu")[0],r=this.absPosition,n=s.absPosition;n.left+i.offsetWidth>r.left+this.offsetWidth&&(n.left=this.offsetWidth-i.offsetWidth),i.style.display="inline-block",i.style.position="absolute",i.style.left=n.left-r.left+"px",i.style.top=n.top-r.top+14+"px",nmdr.core.popup.open(i,s,function(){nmdr.core.animate.fadeIn(null,i,null,!0,function(){o.rowMenuOpen=!0})},function(t){o.closeRowMenu("clear",null,o,t)}),(this.clickedRow==e||1<this.selectedRows.length&&-1!=this.selectedRows.indexOf(e))&&nmdr.utils.stopPropagation(t)},t.closeRowMenu=function(t,e,o,s){null==o&&(o=this);var i=o.getElementsByClassName("nmdrTB_rowMenu")[0];nmdr.core.animate.fadeOut(null,i,null,!0,function(){i.style.display="none",o.updateRowMenuRow(!1),o.rowMenuOpen=!1,o.rowMenuActRow=-1,o.handleCommand(null,t),e&&e(),s&&s()}),nmdr.core.popup.close()},t.updateRowMenuRow=function(t){var e;-1!=this.rowMenuActRow&&(e=document.getElementById(this.id+"_nmdrTB_rowMenu_tr_"+this.rowMenuActRow),t?e.classList.add("rowMenuActRow"):e.classList.remove("rowMenuActRow"))},t.onRowMenuMouseOver=function(t){this.updateRowMenuRow(!1),this.rowMenuActRow},t.selectHeader=function(t,e){var o=document.getElementById(this.id+"_nmdrTB_header_th"+t);var s=document.getElementById(this.id+"_nmdrTB_hdm"+t);o.style.opacity=t==this.selectedColumn?.5:1,s&&(s.style.visibility=e?"visible":"hidden")},t.initKeyEvents=function(){var s=this;document.addEventListener("keydown",function(t){var e,o;nmdr.core.utils.isActiveElement(s)&&(40==t.keyCode?(s.rowMenuOpen?(-1!=s.rowMenuActRow?(s.updateRowMenuRow(!1),3==s.rowMenuActRow?s.rowMenuActRow=0:s.rowMenuActRow++):s.rowMenuActRow=0,s.updateRowMenuRow(!0)):(e=0==s.selectedRows.length?0:s.selectedRows[0],s.props.scrollable?(o=s.getElementsByClassName("nmdrTB_body")[0],e<s.lastRow&&(o.scrollTop+=s.props.bodyRowHeight+7,s.selectRows(null,e+1))):s.selectRows(null,e==s.lastRow?s.firstRow:e+1)),nmdr.core.utils.stopPropagation(t)):38==t.keyCode?(s.rowMenuOpen?(-1!=s.rowMenuActRow?(s.updateRowMenuRow(!1),0==s.rowMenuActRow?s.rowMenuActRow=3:s.rowMenuActRow--):s.rowMenuActRow=0,s.updateRowMenuRow(!0)):(e=0==s.selectedRows.length?0:s.selectedRows[0],s.props.scrollable?(o=s.getElementsByClassName("nmdrTB_body")[0],e>s.firstRow&&(o.scrollTop-=s.props.bodyRowHeight+7,s.selectRows(null,e-1))):s.selectRows(null,e==s.firstRow?s.lastRow:e-1)),nmdr.core.utils.stopPropagation(t)):33==t.keyCode||34==t.keyCode?nmdr.core.utils.stopPropagation(t):13==t.keyCode&&(s.rowMenuOpen?s.executeMenuCommand(s.rowMenuActRow):-1!=s.props.menuColumn&&s.openRowMenu(t,s.selectedRows[0]),nmdr.core.utils.stopPropagation(t)))})},t.showLoader=function(t){var e=this.getElementsByClassName("nmdrTB_loader")[0];e&&(e.style.display=t?"inline":"none",e.style.cursor=t?"wait":"default")},t.handleCommand=function(t,e,o,s){if(!this.headerMenuOpen||s)if(!this.rowMenuOpen||s)switch(t&&nmdr.core.utils.stopPropagation(t),o&&this.selectRows(t,o),e){case"selectAll":this.selectRows(null,null,!0);break;case"nextPage":this.nextPage();break;case"prevPage":this.prevPage();break;case"firstPage":this.firstPage();break;case"lastPage":this.lastPage();break;case"sortAZ":this.sortAZ();break;case"sortZA":this.sortZA();break;case"removeSorting":this.removeSorting();break;case"setFilter":this.setFilter();break;case"removeFilter":this.removeFilter();break;case"checkAllFilter":this.checkAllFilterCheckBox();break;case"uncheckAllFilter":this.uncheckAllFilterCheckBox();break;case"setRowLimit":this.setRowLimit();break;case"goToPage":this.goToPage();break;case"openRow":this.openRow(o);break;case"editRow":this.editRow(o);break;case"deleteRow":this.deleteRow(o)}else this.closeRowMenu(e);else this.closeHeaderMenu(e)},t.executeMenuCommand=function(t){this.closeRowMenu("clear",this.menuCommands[t].action)},t.handlePostBack=function(t){this.props.doPostBack},t.makeRowMenu=function(){if(-1===this.props.menuColumn)return"";var t=[];t.push("<div class='nmdrTB_rowMenu' id='"+this.id+"_nmdrTB_rowMenu'>"),t.push("<table cellpadding='0' cellspacing='0' border='0' width='100%' height='100%'>");for(var e=0;e<this.menuCommands.length;e++){var o=this.menuCommands[e];t.push("<tr class='nmdrTB_rowMenu_tr' id='"+this.id+"_nmdrTB_rowMenu_tr_"+e+"' "),t.push("onclick=\"nmdr.core.$('"+this.id+"').executeMenuCommand("+e+');" '),t.push("onmouseover=\"nmdr.core.$('"+this.id+"').onRowMenuMouseOver(event);\">"),t.push("<td style='width:24px'><img src='"+this.props.imagePath+o.icon+"'></td>"),t.push("<td><span>"+o.name+"</span></td>"),t.push("</tr>")}return t.push("</table></div>"),t.join("")},t.makeHeaderMenu=function(){var t=[];return t.push("<div class='nmdrTB_headerMenu'>"),t.push("<table cellpadding='0' cellspacing='0' border='0' width='100%' height='100%' style='table-layout:fixed'>"),t.push("<tr>"),t.push("<td>"),t.push("<a href='#'><img src='"+this.props.imagePath+"spDoSortAZ.gif' style='border-style:none;'/></a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'sortAZ');\" style='text-decoration:none;'>A-Z</a>"),t.push("</td>"),t.push("<td>"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event);\">"),t.push("<img src='"+this.props.imagePath+"spClosePopup.gif' style='border-style:none; vertical-align:middle;float:right;'/></a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<a href='#'><img src='"+this.props.imagePath+"spDoSortZA.gif' style='border-style:none;'/></a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'sortZA');\" style='text-decoration:none;'>Z-A</a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<a href='#'><img src='"+this.props.imagePath+"spSortdel.gif' style='border-style:none;'/></a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'removeSorting');\" style='text-decoration:none;'>"+this.props.removeSortingLable+"</a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr style='height:5px'><td colspan='2'></td></tr>"),t.push("<tr><td colspan='2' style='border-bottom:dotted; border-bottom-width:1px;'></td></tr>"),t.push("<tr style='height:5px'><td colspan='2'></td></tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<a href='#'><img src='"+this.props.imagePath+"spFilter.png' style='border-style:none;'/></a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'setFilter');\" style='text-decoration:none;'>"+this.props.setFilterLable+"&nbsp;&nbsp;</a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<a href='#'><img src='"+this.props.imagePath+"spFilterdel.gif' style='border-style:none;'/></a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'removeFilter');\" style='text-decoration:none;'>"+this.props.removeFilterLable+"&nbsp;&nbsp;</a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<table border='0' width='100%' style='table-layout:fixed'>"),t.push("<tr>"),t.push("<td style='width:60px'>"),t.push("<span id='"+this.id+"_nmdrTB_filterColumnName'>Column</span>"),t.push("</td>"),t.push("<td style='text-align:right'>"),t.push("<select id='"+this.id+"_nmdrTB_filterSelect'>"+this.prepareFilterPattern(!1)+"</select>&nbsp;"),t.push("<input id='"+this.id+"_nmdrTB_filterText' type='text' name='columnfilter' size='10' value='"+this.prepareFilterPattern(!0)+"'/>"),this.props.showFilterData?(t.push("</td>"),t.push("</tr>"),t.push("<style>.nmdrTBFcheckbox:hover {cursor:pointer; background:#0073C6; color:#FFFFFF;}</style>"),t.push("<tr><td>Selection</td>"),t.push("<td style='text-align:right'>"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'uncheckAllFilter', null, true);\">"),t.push("<img src='"+this.props.imagePath+"spUncheckAll.gif' style='border-style:none; vertical-align:middle;'/>"),t.push("</a>&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'checkAllFilter', null, true);\">"),t.push("<img src='"+this.props.imagePath+"spCheckAll.gif' style='border-style:none; vertical-align:middle;'/>"),t.push("</a>"),t.push("</td>"),t.push("</tr>"),t.push("<tr>"),t.push("<td colspan='2'>"),t.push("<div id='"+this.id+"_nmdrTB_filterData' style='display:block;width:100%;height:108px;background:#fff;border:1px solid #ccc;overflow-x:hidden;overflow-y:auto;'>"),t.push(this.prepareFilterData()),t.push("</div>")):(t.push("&nbsp;"),t.push("<a href='' onClick=\"nmdr.core.$('"+this.id+"').handleCommand(event, 'setFilter');\">"),t.push("<img src='"+this.props.imagePath+"spFilterset.gif' style='border-style:none; vertical-align:middle;'/>"),t.push("</a>")),t.push("</td>"),t.push("</tr>"),t.push("</table>"),t.push("</td>"),t.push("</tr>"),t.push("</table>"),t.push("</div>"),t.join("")},t.prepareMenuCommands=function(){return[{name:"open item",icon:"details.gif",action:function(){alert("open item")}},{name:"edit item",icon:"editdetails.gif",action:function(){alert("edit item")}},{name:"delete item",icon:"delete.gif",action:function(){alert("delete item")}},{name:"rename item",icon:"edititem.gif",action:function(){alert("rename item")}}]},t.prepareFilterPattern=function(t){var e=this.props.filters[this.selectedColumn]?this.props.filters[this.selectedColumn].split(this.props.filterSplitter):null;if(t)return e?e[1]:"";var o,s="",i=e?e[0]:"";for(o in this.props.patternNames){var r=this.props.patternNames[o].split("/");switch(r[0]){case"is equal":s+="<option value='isequal' "+("isequal"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>";break;case"is not equal":s+="<option value='isnotequal' "+("isnotequal"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>";break;case"contains":s+="<option value='contains' "+("contains"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>";break;case"not contains":s+="<option value='notcontains' "+("notcontains"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>";break;case"starts with":s+="<option value='startswith' "+("startswith"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>";break;case"ends with":s+="<option value='endswith' "+("endswith"==i?"selected":"")+">"+("x"==r[1]?r[0]:r[1])+"</option>"}}return s},t.prepareFilterData=function(){if(-1==this.selectedColumn)return"";var t=[],e=[],o=[];for(i in this.originRows){var s=this.originRows[i].split(this.props.dataSplitter);t.push(s[this.selectedColumn])}this.props.filters[this.selectedColumn]&&(e=2<(e=this.props.filters[this.selectedColumn].split(this.props.filterSplitter)).length?e[2].split(this.props.filterDataSplitter):null),o.push("<table width='100%' height='100%' cellpadding='0' cellspacing='0' border='0'>");for(var i=0;i<t.length;i++){var r=!1;if(e&&0<e.length)for(var n in e)if(e[n]==t[i]){r=!0;break}var l=this.id+"_nmdrTB_FCBox"+i,d=this.props.imagePath+(r?"/checkboxon.png":"/checkboxoff.png");o.push("<tr style='line-height:18px;'><td class='nmdrTBFcheckbox' id='"+l+"' onclick=\"nmdr.core.$('"+this.id+"').toggleFilterCheckBox("+i+");\"><table cellpadding='2' cellspacing='0' border='0'><tr><td style='vertical-align:middle;'><img class='nmdrTBCB' id='"+l+"_img' name='"+t[i]+"' checked='"+r+"' src='"+d+"'></td><td style='vertical-align:middle;'><span>"+t[i]+"</span></td></tr></table></td></tr>")}return o.push("</table>"),o.join("")},t.toggleFilterCheckBox=function(t){var e=document.getElementById(this.id+"_nmdrTB_FCBox"+t+"_img"),o="true"!=e.getAttribute("checked"),t=this.props.imagePath+(o?"/checkboxon.png":"/checkboxoff.png");e.setAttribute("checked",o),e.src=t},t.checkAllFilterCheckBox=function(){for(var t=document.getElementById(this.id+"_nmdrTB_filterData").getElementsByClassName("nmdrTBCB"),e=0;e<t.length;e++)t[e].src=this.props.imagePath+"/checkboxon.png",t[e].setAttribute("checked","true")},t.uncheckAllFilterCheckBox=function(){for(var t=document.getElementById(this.id+"_nmdrTB_filterData").getElementsByClassName("nmdrTBCB"),e=0;e<t.length;e++)t[e].src=this.props.imagePath+"/checkboxoff.png",t[e].setAttribute("checked","false")},t.getFilterData=function(){if(!this.props.showFilterData)return"";for(var t=document.getElementById(this.id+"_nmdrTB_filterData").getElementsByClassName("nmdrTBCB"),e="",o=0;o<t.length;o++)"true"==t[o].getAttribute("checked")&&(e+=(""==e?"":this.props.filterDataSplitter)+t[o].getAttribute("name"));return e},t.prepareData=function(){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e=this.props.dataSplitter,o=[],s=[],i=0;i<this.props.dummyRows;i++){for(var r="",n=0;n<this.props.dummyCols;n++)n<t.length&&(0==i&&o.push(t[n]),r+=t[n]+i,n<this.props.dummyCols-1&&(r+=e));s.push(r)}return{columns:o,rows:s}},t}}