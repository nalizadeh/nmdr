"use strict";function resizeKeepingRatio(t,e,i,s){if(!t||!e||0>=t||0>=e)throw"Params error";var a=t/i,n=e/s;if(1>=a&&1>=n){var o=1/(a>n?a:n);t*=o,e*=o}else if(a>1&&1>=n){var o=1/a;t*=o,e*=o}else if(1>=a&&n>1){var o=1/n;t*=o,e*=o}else if(a>=1&&n>=1){var o=1/(a>n?a:n);t*=o,e*=o}return{width:t,height:e}}function resizeElement(t,e,i,s,a,n){var o=t?document.getElementById(t):e;if(null!=o){var r=function(){var t=o.offsetWidth,e=o.offsetHeight;i>t?(t+=stepH,t>i&&(t=i)):t>i&&(t-=stepH,i>t&&(t=i)),s>e?(e+=stepV,e>s&&(e=s)):e>s&&(e-=stepV,s>e&&(e=s)),o.style.width=t+"px",o.style.height=e+"px",t==i&&e==s?(cancelAnimationFrame(o.resizeTm),a&&a(n)):o.resizeTm=requestAnimationFrame(r)};r()}}function moveElement(t,e,i,s,a,n){var o=t?document.getElementById(t):e;if(null!=o){var r=function(){var t=o.offsetLeft,e=o.offsetTop;null!=i&&(i>t?(t+=stepH,t>i&&(t=i)):t>i&&(t-=stepH,i>t&&(t=i))),null!=s&&(s>e?(e+=stepV,e>s&&(e=s)):e>s&&(e-=stepV,s>e&&(e=s))),o.style.left=t+"px",o.style.top=e+"px",null!=i&&t!=i||null!=s&&e!=s?o.moveTM=requestAnimationFrame(r):(cancelAnimationFrame(o.moveTM),a&&a(n))};r()}}function fadeElement(t,e,i,s,a,n,o){var r=t?document.getElementById(t):e;if(null!=r){if(s>i?(i+=a,i>s&&(i=s)):i>s&&(i-=a,s>i&&(i=s)),r.style.opacity=i,r.style.filter="alpha(opacity="+100*i+")",i==s)return cancelAnimationFrame(r.fadeTM),void(n&&n(o));r.fadeTM=requestAnimationFrame(function(){fadeElement(null,r,i,s,a,n,o)})}}function scrollElement(t,e,i,s,a,n){var o=t?document.getElementById(t):e;null!=o&&(null!=i&&(i+=o.offsetLeft),null!=s&&(s+=o.offsetTop),moveElement(null,o,i,s,a,n))}function stopTimer(){clearTimeout(nmdrTimer)}function startTimer(t,e){clearTimeout(nmdrTimer),nmdrTimer=setTimeout(t,e)}function stopPropagation(t){t=t||window.event,null!=t.cancelBubble&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation(),t.preventDefault()}function registerPopup(t,e,i,s){null!=currPopup&&currPopup!=t&&closeCurrentPopup(),currPopup=t,currInvokers.push(e),currCallback=i,currCanCloseCallback=s,document.body.onkeydown=function(t){27==t.which&&null!=currPopup&&(closeCurrentPopup(),stopPropagation(t))},currPopup.onclick=function(t){stopPropagation(t)},document.onclick=function(t){if(null!=currPopup){var e=t.target||t.srcElement;for(var i in currInvokers)if(e==currInvokers[i])return;var s=!0;if(currCanCloseCallback)for(var i in currInvokers)if(!currCanCloseCallback(currInvokers[i],e)){s=!1;break}s&&closeCurrentPopup()}}}function addPopupInvoker(t){currInvokers.push(t)}function unregisterPopup(){for(currPopup=null,currCallback=null,currCanCloseCallback=null;currInvokers.length;)currInvokers.pop()}function closeCurrentPopup(){null!=currPopup&&(currCallback(),unregisterPopup())}function _$(t){return document.getElementById(t)}function nmdrSlider(t){var e=_$(t);return null==e?void alert("[nmdrSlider]\n\nThe specified container '"+t+"' does not exist.\nPlease verify that you have a container with this ID in the page."):(e.imagePath="img/pixshow/",e.background="#000",e.paddingH=2,e.paddingV=2,e.descboxWidth=280,e.descboxHeight=340,e.slices=10,e.boxes=6,e.autoplayDelay=4e3,e.autoplayKenBurns=!0,e.albumWidth=0,e.albumHeight=0,e.thumbWidth=0,e.thumbHeight=0,e.thumbViewCount=0,e.slideWidth=0,e.slideHeight=0,e.touchX=-1,e.touchY=-1,e.currentAlbum=0,e.inAnimation=!1,e.inAutoplay=!1,e.albums=[],e.effect=0,e.onlySlider=!1,e.effects=["00 - Fade 1","01 - Fade 2","02 - Slide left","03 - Slide right","04 - Slide top","05 - Slide buttom","06 - Clap in out vertical","07 - Clap in out horizontal","08 - Zoom in out 1","09 - Zoom in out 2","10 - Rotation","11 - Card flip","12 - Fold right","13 - Fold left","14 - Fold down","15 - Fold up","16 - Slice right","17 - Slice left","18 - Slice right 3d","19 - Slice left 3d","20 - Box 2d linear","21 - Box 2d diagonal","22 - Box 3d","23 - Box rundom","24 - Box right","25 - HoleOut Swashin","26 - BoingOutDown BoingInUp","27 - Slide down/top","28 - Slide left/right","29 - Cube horizontal+","30 - Cube horizontal-","31 - Cube vertical+","32 - Cube vertical-"],e.init=function(t){var e=t||this.createTestAlbum();if(this.albums=e.albums,this.albumWidth=e.width,this.albumHeight=e.height,this.thumbWidth=e.thumbWidth,this.thumbHeight=e.thumbHeight,this.effect=e.effect||1,this.imagePath=e.imagePath||this.imagePath,this.background=e.background||this.background,this.autoplayKenBurns=null!=e.autoplayKenBurns?e.autoplayKenBurns:!0,this.onlySlider=null!=e.onlySlider?e.onlySlider:!1,this.currentAlbum=0,-1==e.width||-1==e.height)this.albumWidth=window.innerWidth,this.albumHeight=window.innerHeight,this.style.left="0px",this.style.top="0px";else if(e.originWidth&&e.originHeight){var i=resizeKeepingRatio(e.originWidth,e.originHeight,e.width,e.height);this.albumWidth=i.width,this.albumHeight=i.height}var s=Math.floor((this.albumWidth-40)/this.thumbWidth);s=(s+1)*this.paddingH,s=Math.floor((this.albumWidth-40-s)/this.thumbWidth),this.thumbViewCount=s,this.slideWidth=this.thumbWidth*this.thumbViewCount+(this.thumbViewCount+1)*this.paddingH,this.slideHeight=this.thumbHeight+2*this.paddingV;for(var a=0;a<this.albums.length;a++){var n=this.albums[a];if(n.selected&&(this.currentAlbum=a),-1!=n.picsCount){n.pics=[];for(var o=0;o<n.picsCount;o++)n.pics[o]={name:this.createImageName(n,o),desc:n.description,video:!1}}n.startPic=0,n.currentPic=-1,n.currentVideo=null,n.picsCount=n.pics.length,n.loaded=!1,n.thumbnailsOpen=!1}return this.build(),this.style.backgroundColor=this.background,this.style.width=this.albumWidth+"px",this.style.height=this.albumHeight+"px",this},e.build=function(){var t=[];t.push("<style type='text/css'>video{width:100% !important;height:auto !important;}</style>"),t.push("<div class='nmdrPS_root' id='"+this.id+"_nmdrPS_root' style='position:relative;display:block;margin:0 auto;overflow:hidden;width:"+this.albumWidth+"px;height:"+this.albumHeight+"px;'>"),t.push("<div class='nmdrPS_content' id='"+this.id+"_nmdrPS_content' style='position:absolute;left:"+-this.currentAlbum*this.albumWidth+"px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+"px;' onmouseover=\"_$('"+this.id+"').showToolbars(event,true)\" onmouseout=\"_$('"+this.id+"').showToolbars(event,false)\">");for(var e=0;e<this.albums.length;e++){var i=this.albums[e],s=(null!==i.title?i.title:"",null!==i.description?i.description:"",0==e?.5:1),a=e<this.albums.length-1?1:.5,n=e*this.albumWidth;t.push("<div class='nmdrPS_pbox' id='"+this.id+"_nmdrPS_pbox"+e+"' onmousedown=\"_$('"+this.id+"').onMouseTouchDown(event);\" onmouseup=\"_$('"+this.id+"').onMouseTouchUp(event, false);\" onclick=\"_$('"+this.id+"').openImage(event,"+e+");\" style='position:absolute;left:"+n+"px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+"px;vertical-align:top;text-align:left;pointer-events:auto;background-size:cover;'>"+this.createPicBox(e)+"</div>"),t.push("<div class='nmdrPS_dbox' id='"+this.id+"_nmdrPS_dbox"+e+"' style='position:absolute;left:"+(n+this.albumWidth-this.descboxWidth-6)+"px;top:"+(this.albumHeight-this.descboxHeight-6)+"px;width:"+this.descboxWidth+"px;height:"+this.descboxHeight+"px;display:none; vertical-align:top;text-align:left;color:#fff;background-image:linear-gradient(rgba(0,0,0,0.5) 0px, rgba(0,0,0,0.5) 100%);pointer-events:auto;'></div>"),t.push("<div class='nmdrPS_sbox' id='"+this.id+"_nmdrPS_sbox"+e+"' style='position:absolute;left:"+n+"px;top:"+(this.albumHeight-56)+"px;width:"+this.albumWidth+"px;height:"+(56+(this.thumbHeight+2*this.paddingV))+"px;vertical-align:top;text-align:left;color:#fff;pointer-events:auto;"+(this.onlySlider?"visibility:hidden;":"")+"'>"),t.push("<table border=0, cellpadding=0, cellspacing=2, width=100% height=100%><tr>"),t.push("<td style='width:20px;height:40px'></td>"),t.push("<td class='nmdrPS_dubt' id='"+this.id+"_nmdrPS_dubt"+e+"' title='Show thumbnails' style='width:40px;height:40px;"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"slideUp.png\");cursor:pointer;' "),t.push("onclick=\"_$('"+this.id+"').showThumbnails(event, "+e+', true)"/></td>'),t.push("<td class='nmdrPS_aplay' id='"+this.id+"_nmdrPS_aplay"+e+"' title='Start autoplay' style='width:40px;height:40px;"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"autoplay.png\");cursor:pointer;' "),t.push("onclick=\"_$('"+this.id+"').runAutoplay(event, "+e+', true)"/></td>'),t.push("<td style='width:20px;height:40px;'></td>"),t.push("<td class='nmdrPS_vidbar' id='"+this.id+"_nmdrPS_vidbar"+e+"' style='width:240px;height:40px;'></td>"),t.push("<td></td>"),t.push("<td class='nmdrPS_lebt' id='"+this.id+"_nmdrPS_prevAL"+e+"' title='Previous album' style='width:40px;height:40px;opacity:"+s+";"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"slideLeft.png\");cursor:pointer;' "),t.push("onclick=\"_$('"+this.id+"').showPrevAlbum(event,"+e+')"></td>'),t.push("<td class='nmdrPS_ribt' id='"+this.id+"_nmdrPS_nextAL"+e+"' title='Next album' style='width:40px;height:40px;opacity:"+a+";"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"slideRight.png\");cursor:pointer;' "),t.push("onclick=\"_$('"+this.id+"').showNextAlbum(event,"+e+')"></td>'),t.push("<td class='nmdrPS_vibt' id='"+this.id+"_nmdrPS_vibt"+e+"' title='Show image in new tab' style='width:40px;height:40px;"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"slideView.png\");cursor:pointer;'"),t.push("onclick=\"_$('"+this.id+"').openImage(event,"+e+',true)"></td>'),t.push("<td class='nmdrPS_desc' id='"+this.id+"_nmdrPS_desc"+e+"' title='Open description bar' style='width:40px;height:40px;"),t.push('background-color:rgba(0,0,0,0.5);background-image: url("'+this.imagePath+"slideDesc.png\");cursor:pointer;'"),t.push("onmouseover=\"_$('"+this.id+"').showDesc(event,"+e+',true);" '),t.push("></td>"),t.push("<td style='width:20px'></td></tr>"),t.push("<tr><td colspan='11' style='height:10px'></td></tr>"),t.push("<tr style='background-color:rgba(0,0,0,0.3);'>"),t.push("<td onclick=\"_$('"+this.id+"').slideThumbsLeft(event,"+e+")\" style='width:20px;height:"+(this.thumbHeight+2*this.paddingV)+"px;cursor:pointer;'><img id='"+this.id+"_nmdrPS_scleft"+e+"' src='"+this.imagePath+"slideLeftB.png' style='opacity:0.5'></td>"),t.push("<td id='"+this.id+"_nmdrPS_sbox"+e+"_thumbs' colspan='9' style='vertical-align:top;text-align:center;'>"),t.push("<div style='text-align:center !important; margin:0 auto; padding-top:10px;font:13px Arial,Helvetica,sans-serif;'>"),t.push("<table align='center' style='margin:auto;'><tr><td><img src=\""+this.imagePath+'loading.gif"></td>'),t.push("<td><p id='loadingCount' style='padding-left:6px;'>loading... 0 %</p></td></tr></table></div></td>"),t.push("<td onclick=\"_$('"+this.id+"').slideThumbsRight(event,"+e+")\" style='width:20px;height:"+(this.thumbHeight+2*this.paddingV)+"px;cursor:pointer;opacity:"+(i.picsCount<=this.thumbViewCount?"0.5":"1")+"'><img id='"+this.id+"_nmdrPS_scright"+e+"' src='"+this.imagePath+"slideRightB.png'></td></tr>"),t.push("</table></div>")}t.push("</div>"),t.push("</div>"),this.innerHTML=t.join(""),this.init3D(),this.initTouchEvents();var o=this;document.addEventListener("keydown",function(t){o.onKeyDown(t)})},e.createPicBox=function(t){if(!this.createVideoBox(t)){var e=this.albums[t],i="<div style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;vertical-align:top;text-align:left;pointer-events:auto;background-image: url("'+this.getImageName(e,e.currentPic)+"\");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);'><div id='"+this.id+"_nmdrPS_promo"+t+"'></div></div>",s=this.init3D();if(!s)return i;s.innerHTML=i}if(this.inAutoplay&&this.autoplayKenBurns){var a=[];this.slideKenBurns_Style(a);var n=document.getElementById(this.id+"_nmdrPS_pbox"+t);n.classList.add("KenBurns"),n.innerHTML=a.join("")+n.innerHTML}this.createPromotion(t)},e.createVideoBox=function(t){var e=this.albums[t],i=document.getElementById(this.id+"_nmdrPS_vidbar"+t);if(i&&(i.innerHTML="",-1!=e.currentPic&&e.pics[e.currentPic].video)){var s=[],a=this.id,n=this.imagePath;return s.push("<table border=0, cellpadding=0, cellspacing=0, width=100% height=100% style='background:#333333'><tr>"),s.push("<td>&nbsp;&nbsp;</td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vrestart.png' title='Restart' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'restart')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vloop1.png' title='Loop' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'loop')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vgobegin.png' title='Go begin' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'begin')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vplay.png' title='Play' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'play')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vgoend.png' title='Go end' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'end')\"></td>"),s.push("<td>&nbsp;&nbsp;</td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vslower.png' title='Slower' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'slower')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vnormal.png' title='Normal' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'normal')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vfaster.png' title='Faster' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'faster')\"></td>"),s.push("<td>&nbsp;&nbsp;</td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vrewind.png' title='Rewind' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'rew')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vforward.png' title='Forward' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'fwd')\"></td>"),s.push("<td>&nbsp;&nbsp;</td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vmute2.png' title='Mute' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'mute')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vvoldown.png' title='Volume down' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'volDn')\"></td>"),s.push("<td style='padding-top:6px'><img class='vc' src='"+n+"vvolup.png' title='Volume up' style='cursor:pointer;' onclick=\"_$('"+a+"').handleVideo(event, "+t+", 'volUp')\"></td>"),s.push("<td>&nbsp;&nbsp;</td>"),s.push("</tr></table>"),i.innerHTML=s.join(""),this.handleVideo(null,t,"init"),!0}return!1},e.init3D=function(){var t=document.getElementById(this.id+"_nmdrPS_pbox"+this.currentAlbum);if(t){var e=[10,11,12,13,14,15,18,19,22,24],i=-1!=e.indexOf(this.effect);return t.style.transformStyle=i?"preserve-3d":"initial",t.style.webkitTransformStyle=i?"preserve-3d":"initial",t.style.perspective=i?"1800px":"none",t.style.webkitPerspective=i?"1800px":"none",t.style.backgroundImage="none",t}return null},e.createPromotion=function(t){var e=this.albums[t];if(-1!=e.currentPic&&e.pics[e.currentPic].promotion){var i=document.getElementById(this.id+"_nmdrPS_promo"+t);i.style.position="absolute",i.style.top="100px",i.style.left="100px",i.innerHTML="<img src='"+e.url+e.path+e.pics[e.currentPic].promotion+"'>"}},e.createThumbnails=function(t,e){var i='<style type="text/css">a { text-decoration:none; outline:0; color:#000; }.nmdrPS_thumbItem:hover {cursor:pointer;outline:1px solid #A8D7FF !important;opacity:1 !important;}.thumbSelected {outline:1px solid orange !important;opacity:1 !important;}</style>',s=[],a=this.paddingH;s.push(i),s.push("<div class='nmdrPS_slidesShow' id='"+this.id+"_nmdrPS_slidesShow"+e+"' style='position:absolute;left:"+(this.albumWidth-this.slideWidth)/2+"px;width:"+this.slideWidth+"px;height:"+this.slideHeight+"px;overflow:hidden;'>"),s.push("<div class='nmdrPS_thumbsArea' id='"+this.id+"_nmdrPS_thumsArea"+e+"' style='position:absolute;'>");for(var n=0;n<t.picsCount;n++){var o=this.getImageName(t,n),r=t.pics[n].video?'<img src="'+this.imagePath+"video.png\" style='position:absolute;left:4px;top:"+(this.thumbHeight-16)+"px;'>":"";s.push("<div class='nmdrPS_thumbItem' id='thumb_"+e+"_"+n+"' style='display:block; opacity:0.5; position:absolute; left:"+a+"px; top:"+this.paddingV+"px; width:"+this.thumbWidth+"px; height:"+this.thumbHeight+'px; background-image: url("'+o+"\"); background-size:cover;' onmousedown=\"_$('"+this.id+"').onMouseTouchDown(event);\" onmouseup=\"_$('"+this.id+"').onMouseTouchUp(event, true);\" onclick=\"_$('"+this.id+"').changeImage("+e+","+n+')">'+r+"</div>"),a+=this.thumbWidth+this.paddingH}return s.push("</div></div>"),s.join("")},e.onKeyDown=function(t){if(!t.target.name||"albums"!=t.target.name&&"effects"!=t.target.name){var e=this.currentAlbum,i=this.albums[e];switch(t.keyCode){case 37:i.thumbnailsOpen?this.changeThumbnail(t,e,-1):this.showPrevAlbum(t,this.currentAlbum);break;case 38:i.thumbnailsOpen||this.showThumbnails(t,e,!0);break;case 39:i.thumbnailsOpen?this.changeThumbnail(t,e,1):this.showNextAlbum(t,e);break;case 40:i.thumbnailsOpen&&(this.showDesc(t,e,!1),this.showThumbnails(t,e,!1));break;case 27:this.runAutoplay(null,e,!1),this.showDesc(t,e,!1),this.showThumbnails(t,e,!1)}}},e.onMouseTouchDown=function(t){this.touchX=parseInt(t.clientX),this.touchY=parseInt(t.clientY);var e=t.target||t.srcElement;return e.style.cursor="pointer",!1},e.onMouseTouchUp=function(t,e){var i=parseInt(t.clientX)-this.touchX;-20>i&&(e?this.slideThumbsRight(t,this.currentAlbum):this.showNextAlbum(t,this.currentAlbum)),i>20&&(e?this.slideThumbsLeft(t,this.currentAlbum):this.showPrevAlbum(t,this.currentAlbum)),this.touchX=-1,this.touchY=-1;var s=t.target||t.srcElement;s.style.cursor=e?"pointer":"default"},e.initTouchEvents=function(){for(var t=this,e=0;e<this.albums.length;e++){var i=document.getElementById(t.id+"_nmdrPS_pbox"+e);i.addEventListener("touchstart",function(e){var i=evt.changedTouches[0];t.touchX=parseInt(i.clientX),t.touchY=parseInt(i.clientY),evt.preventDefault()},!1),i.addEventListener("touchmove",function(e){var i=evt.changedTouches[0],s=parseInt(i.clientX)-t.touchX;-20>s&&t.showNextAlbum(e,t.currentAlbum),s>20&&t.showPrevAlbum(e,t.currentAlbum),evt.preventDefault()},!1),i.addEventListener("touchend",function(e){t.touchX=-1,t.touchY=-1,evt.preventDefault()},!1)}},e.changeAlbum=function(t,e){var i=document.getElementById(this.id+"_nmdrPS_albums"),s=parseInt(i.options[i.selectedIndex].value);if(!this.inAnimation&&s!=this.currentAlbum){this.runAutoplay(null,this.currentAlbum,!1),this.showDesc(t,e,!1),this.showThumbnails(t,e,!1),this.inAnimation=!0;var a=this,n=document.getElementById(this.id+"_nmdrPS_content");fadeElement(null,n,1,0,.03,function(){n.style.left=-s*a.albumWidth+"px",fadeElement(null,n,0,1,.03,function(){a.currentAlbum=s,a.inAnimation=!1})})}},e.showPrevAlbum=function(t,e){if(!this.inAnimation&&e>0){this.runAutoplay(null,this.currentAlbum,!1),this.showDesc(t,e,!1),this.showThumbnails(t,e,!1),this.inAnimation=!0,this.currentAlbum-=1;var i=stepH/this.slideWidth,s=document.getElementById(this.id+"_nmdrPS_pbox"+e),a=document.getElementById(this.id+"_nmdrPS_pbox"+(e-1));fadeElement(null,s,1,0,i),fadeElement(null,a,0,1,i),scrollElement(this.id+"_nmdrPS_content",null,this.albumWidth,0,function(t){s.style.opacity=1,t.inAnimation=!1},this)}},e.showNextAlbum=function(t,e){if(!this.inAnimation&&e<this.albums.length-1){this.runAutoplay(null,this.currentAlbum,!1),this.showDesc(t,e,!1),this.showThumbnails(t,e,!1),this.inAnimation=!0,this.currentAlbum+=1;var i=stepH/this.slideWidth,s=document.getElementById(this.id+"_nmdrPS_pbox"+e),a=document.getElementById(this.id+"_nmdrPS_pbox"+(e+1));fadeElement(null,s,1,0,i),fadeElement(null,a,0,1,i),scrollElement(this.id+"_nmdrPS_content",null,-this.albumWidth,0,function(t){s.style.opacity=1,t.inAnimation=!1},this)}},e.showThumbnails=function(t,e,i,s){if(!this.inAnimation){this.inAnimation=!0;var a=this.id+"_nmdrPS_dubt"+e,n=this.id+"_nmdrPS_sbox"+e,o=this.id+"_nmdrPS_dbox"+e,r=i?this.thumbHeight+2*this.paddingV+56:56,l=i?this.thumbHeight+2*this.paddingV+this.descboxHeight+6:this.descboxHeight+6,h=this,c=this.albums[e],u=document.getElementById(n+"_thumbs");moveElement(null,document.getElementById(n),null,this.albumHeight-r,function(t){i&&!c.loaded&&(h.loadThumbnails(u,c,e,s),c.loaded=!0),h.inAnimation=!1,document.getElementById(o).style.top=h.albumHeight-l+"px";var n=document.getElementById(a);i?(n.title="Hide thumbnails",n.style.backgroundImage="url('"+h.imagePath+"slideDown.png')",n.onclick=function(t){h.showThumbnails(t,e,!1)},c.thumbnailsOpen=!0):(n.title="Show thumbnails",n.style.backgroundImage="url('"+h.imagePath+"slideUp.png')",n.onclick=function(t){h.showThumbnails(t,e,!0)},c.thumbnailsOpen=!1)},this)}},e.loadThumbnails=function(t,e,i,s){for(var a=[],n=this,o=function(){for(var r=0;r<a.length;r++)if(a[r].attempts||(a[r].attempts=0),!a[r].complete&&a[r].attempts<5){a[r].attempts++;var l=(100*r/a.length).toFixed(0).toString(),h=document.getElementById("loadingCount");return h.innerHTML="loading... "+(l.length<2?"0":"")+l+" %",void setTimeout(o,20)}t.innerHTML=n.createThumbnails(e,i),s&&s()},r=0;r<e.picsCount;r++){var l=new Image;l.src=this.getImageName(e,r),a.push(l)}o()},e.changeThumbnail=function(t,e,i,s){var a=this.albums[e],n=this,o=function(t){var e=function(){n.inAnimation?setTimeout(e,5):t()};e()};1==i?o(a.currentPic<a.picsCount-1?a.currentPic%this.thumbViewCount==n.thumbViewCount-1?function(){n.slideThumbsRight(t,e,!0,function(){n.changeImage(n.currentAlbum,a.currentPic+i,!1,s)})}:function(){n.changeImage(n.currentAlbum,a.currentPic+i,!1,s)}:function(){var t=document.getElementById(n.id+"_nmdrPS_sbox"+e+"_thumbs");t.innerHTML=n.createThumbnails(a,e),a.startPic=0,document.getElementById(n.id+"_nmdrPS_scright"+e).style.opacity=1,document.getElementById(n.id+"_nmdrPS_scleft"+e).style.opacity=.5,n.changeImage(n.currentAlbum,0,!1,s)}):a.currentPic>0&&o(a.currentPic%this.thumbViewCount==0?function(){n.slideThumbsLeft(t,e,function(){n.changeImage(n.currentAlbum,a.currentPic+i,!1,s)})}:function(){n.changeImage(n.currentAlbum,a.currentPic+i,!1,s)})},e.slideThumbsRight=function(t,e,i,s){i="undefined"==typeof i?!this.inAutoplay:i||!this.inAutoplay;var a=this,n=this.albums[e];if(!this.inAnimation&&i&&n.startPic<n.picsCount-this.thumbViewCount){this.inAnimation=!0;var o=Math.min(n.picsCount-n.startPic,this.thumbViewCount),r=Math.min(n.picsCount-n.startPic-o,this.thumbViewCount),l=this.thumbWidth*r+r*this.paddingH;scrollElement(this.id+"_nmdrPS_thumsArea"+e,null,-l,0,function(t){n.startPic+=r,t.inAnimation=!1,document.getElementById(a.id+"_nmdrPS_scleft"+e).style.opacity=1,n.startPic>=n.picsCount-a.thumbViewCount&&(document.getElementById(a.id+"_nmdrPS_scright"+e).style.opacity=.5),s&&s()},this)}},e.slideThumbsLeft=function(t,e,i){var s=this,a=this.albums[e];if(!this.inAnimation&&!this.inAutoplay&&a.startPic>0){this.inAnimation=!0;var n=Math.min(a.startPic-this.thumbViewCount,this.thumbViewCount);n<this.thumbViewCount&&(0>n?n=1:(n=Math.max(a.startPic-n,this.thumbViewCount),0>n&&(n=1)));var o=this.thumbWidth*n+n*this.paddingH;scrollElement(this.id+"_nmdrPS_thumsArea"+e,null,o,0,function(t){a.startPic-=n,t.inAnimation=!1,document.getElementById(s.id+"_nmdrPS_scright"+e).style.opacity=1,a.startPic<=0&&(a.startPic=0,document.getElementById(s.id+"_nmdrPS_scleft"+e).style.opacity=.5),i&&i()},this)}},e.showToolbars=function(t,e){if(!this.onlySlider){stopPropagation(t);var i=document.getElementById(this.id+"_nmdrPS_sbox"+this.currentAlbum);i.style.visibility=e?"visible":"hidden"}},e.showDesc=function(t,e,i){if(t&&stopPropagation(t),!this.inAnimation){var s=document.getElementById(this.id+"_nmdrPS_dbox"+e);if(!i)return s.innerHTML="",void(s.style.display="none");document.getElementById(this.id+"_nmdrPS_sbox"+e).style.visibility="visible",registerPopup(s,document.getElementById(this.id+"_nmdrPS_desc"+e),function(){s.innerHTML="",s.style.display="none"});var a="<select name='albums' id='"+this.id+"_nmdrPS_albums' onchange=\"_$('"+this.id+"').changeAlbum(event,"+e+")\" style='font:11px Arial,Helvetica,sans-serif;width:200px;'>";for(var n in this.albums)a+="<option value='"+n+"' "+(this.currentAlbum==n?"selected":"")+">"+this.albums[n].title+"</option>";a+="</select>";var o="<select name='effects' id='"+this.id+"_nmdrPS_effects' onchange=\"_$('"+this.id+"').changeEffect()\" style='font:11px Arial,Helvetica,sans-serif;width:200px;'>";for(var n in this.effects)o+="<option value='"+n+"' "+(this.effect==n?"selected":"")+">"+this.effects[n]+"</option>";o+="</select>";var r=[],l=this.albums[e],h=this.getImageDescription(l),c=this.getImageLinks();r.push("<table border=0, cellpadding=0, cellspacing=8, width=100% height=100%>"),r.push("<tr><td style='height:10px'></td></tr>"),r.push("<tr><td style='height:40px;border-bottom:2px solid #ccc;'><a style='color:#ccc;font:13px Arial,Helvetica,sans-serif;'>"+l.title+"</a></td></tr>"),r.push("<tr><td style='height:5px'></td></tr>"),r.push("<tr><td style='height:110px;vertical-align:top;'><a id='"+this.id+"_nmdrPS_descDs"+e+"' style='color:#fff;font:20px Segoe UI Light,Segoe UI,Arial,Helvetica,Sans-Serif;font-weight: 100'>"+h+"</a>"+c+"</td></tr>"),r.push("<tr><td style='height:36px;'><table border=0, cellpadding=0, cellspacing=0, width=100% height=100%>"),r.push("<tr><td><a style='color:#ccc;font:11px Arial,Helvetica,sans-serif;'>Albums</a></td><td>"+a+"</td></tr>"),r.push("<tr><td><a style='color:#ccc;font:11px Arial,Helvetica,sans-serif;'>Effects&nbsp;&nbsp;</a></td><td>"+o+"</td></tr></table></td></tr>"),r.push("<tr><td style='height:20px;'><a style='color:#ccc;font:12px Arial,Helvetica,sans-serif;'>© nalizadeh.com 2016</a></td></tr>"),r.push("<tr><td></td></tr>"),r.push("</table>"),s.innerHTML=r.join(""),s.style.display="inline"}},e.runAutoplay=function(t,e,i){var s=document.getElementById(this.id+"_nmdrPS_aplay"+e),a=this;if(i){s.title="Stop autoplay",s.style.backgroundImage="url('"+this.imagePath+"autopause.png')",s.onclick=function(t){a.runAutoplay(t,e,!1)},this.inAutoplay=!0;var n=function(){if(a.inAutoplay){a.changeEffect(Math.floor(32*Math.random())),a.changeThumbnail(t,e,1,function(){setTimeout(n,a.autoplayDelay)});var i=document.getElementById(a.id+"_nmdrPS_descDs"+e);if(i){var s=document.getElementById(a.id+"_nmdrPS_effects");s.selectedIndex=a.effect,i.innerHTML=a.getImageDescription(a.albums[a.currentAlbum])}}};n()}else if(this.inAutoplay&&(s.title="Start autoplay",s.style.backgroundImage="url('"+this.imagePath+"autoplay.png')",s.onclick=function(t){a.runAutoplay(t,e,!0)},this.inAutoplay=!1,this.inAnimation=!1,this.autoplayKenBurns)){var o=document.getElementById(this.id+"_nmdrPS_pbox"+e);o.classList.remove("KenBurns")}},e.startAutoplay=function(){var t=this;this.showThumbnails(null,this.currentAlbum,!0,function(){t.runAutoplay(null,t.currentAlbum,!0)})},e.createImageName=function(t,e){var i=e+1,s=""+i;return t.order?t.picsCount<10&&10>i?s="0"+s:t.picsCount<100&&10>i?s="0"+s:t.picsCount>100&&(10>i&&(s="0"+s),100>i&&(s="0"+s)):10>i&&(s="0"+s),t.picname+s+".jpg"},e.getImageName=function(t,e){return-1==e?t.url+t.image:t.url+t.path+t.pics[e].name},e.getImageDescription=function(t){if(-1==t.currentPic)return t.description;var e=-1==t.currentPic?0:t.currentPic;return t.pics[e].desc},e.getImageLinks=function(){var t="http://www.bing.com/search?q=",e="http://www.google.com/?gws_rd=ssl#q=",i="<br><br><img src='"+this.imagePath+"bing16x16.png' style='cursor:pointer;' onclick=\"_$('"+this.id+"').openLink('"+t+"')\">&nbsp;<img src='"+this.imagePath+"google16x16.png' style='cursor:pointer;' onclick=\"_$('"+this.id+"').openLink('"+e+"')\">";return i},e.openImage=function(t,e,i){if(this.showDesc(t,e,!1),this.showThumbnails(t,e,!1),i){var s=this.albums[e];e=-1==s.currentPic?0:s.currentPic;var a=window.open(this.getImageName(s,e),"_blank");a.focus()}},e.openLink=function(t){var e=this.albums[this.currentAlbum],i=-1==e.currentPic?0:e.currentPic,s=t+e.pics[i].desc,a=window.open(s,"_blank");a.focus()},e.handleVideo=function(t,e,i){var s=this,a=this.albums[e];if("init"==i){var n=this.getImageName(a,a.currentPic);a.currentVideo=document.createElement("video"),a.currentVideo.id=this.id+"_nmdrPS_pbox_video"+e,a.currentVideo.src=n.substring(0,n.lastIndexOf("."))+".mp4",a.currentVideo.poster=n,a.currentVideo.controls=!1,a.currentVideo.autoPlay=!0,a.currentVideo.preload=!0,a.currentVideo.loop=!0,a.currentVideo.addEventListener("error",function(t){u(t)},!0),a.currentVideo.load(),a.currentVideo.onended=function(){if(!a.currentVideo.loop){var t=document.getElementById(s.id+"_nmdrPS_vidbar"+e).getElementsByClassName("vc");t[3].src=s.imagePath+"vplay.png",a.currentVideo.pause()}};var o=document.getElementById(this.id+"_nmdrPS_pbox"+e);return o.innerHTML="",o.appendChild(a.currentVideo),!0}var r=a.currentVideo;if(r.canPlayType){var l=function(){var t=s.albums[e],i=s.getImageName(t,t.currentPic);r.src=i.substring(0,i.indexOf("."))+".mp4",r.load(),r.addEventListener("error",function(t){u(t)},!0)},h=function(t){""==r.src&&l();var e=t.target;r.paused?(r.play(),e.src=s.imagePath+"vpause.png",e.title="Pause"):(r.pause(),e.src=s.imagePath+"vplay.png",e.title="Play")},c=function(t){try{0==t?r.currentTime=t:r.currentTime+=t}catch(e){u("Video content might not be loaded")}},u=function(t){alert(t)},p=function(t){var e=r.volume;e+=t,e>=0&&1>=e?r.volume=e:r.volume=0>e?0:1};"loadVideo"==i&&l(),"play"==i&&h(t),"begin"==i&&c(0),"end"==i&&c(1e3),"restart"==i&&c(0),"rew"==i&&c(-10),"fwd"==i&&c(10),"slower"==i&&(r.playbackRate-=.25),"faster"==i&&(r.playbackRate+=.25),"normal"==i&&(r.playbackRate=1),"volDn"==i&&p(-.1),"volUp"==i&&p(.1),"mute"==i&&(r.muted?(r.muted=!1,t.target.src=this.imagePath+"vmute2.png"):(r.muted=!0,t.target.src=this.imagePath+"vmute1.png")),"loop"==i&&(r.loop?(r.loop=!1,t.target.src=this.imagePath+"vloop2.png"):(r.loop=!0,t.target.src=this.imagePath+"vloop1.png"))}},e.changeEffect=function(t){var e=document.getElementById(this.id+"_nmdrPS_effects");this.effect="undefined"==typeof t?parseInt(e.options[e.selectedIndex].value):t,this.init3D()},e.changeImage=function(t,e,i,s){if(!this.inAnimation){this.inAnimation=!0;var a="",n="",o=this,r=this.albums[t];a=this.getImageName(r,e),n=this.getImageName(r,r.currentPic),r.currentPic=e;for(var l=document.getElementById(this.id+"_nmdrPS_pbox"+t),h=document.getElementById(this.id+"_nmdrPS_sbox"+t+"_thumbs"),c=h.getElementsByClassName("nmdrPS_thumbItem"),u=0;u<c.length;u++)c[u].classList.remove("thumbSelected"),u==e&&c[u].classList.add("thumbSelected");var p=function(){o.createPicBox(t),o.inAnimation=!1,s&&s()};switch(this.effect){case 0:case 2:case 3:case 4:case 5:this.effect_0_2_3_4_5(l,a,n,p);break;case 1:case 6:case 7:case 8:case 9:case 10:case 11:this.effect_1_6_7_8_9_10_11(l,a,n,p);break;case 12:case 13:this.effect_12_13(l,a,n,p);break;case 14:case 15:this.effect_14_15(l,a,n,p);break;case 16:case 17:case 18:case 19:this.effect_16_17_18_19(l,a,n,p);break;case 20:this.effect_20(l,a,n,p);break;case 21:this.effect_21(l,a,n,p);break;case 22:this.effect_22(l,a,n,p);break;case 23:this.effect_23(l,a,n,p);break;case 24:this.effect_24(l,a,n,p);break;case 25:this.effect_25(l,a,n,p);break;case 26:this.effect_26(l,a,n,p);break;case 27:this.effect_27(l,a,n,p);break;case 28:this.effect_28(l,a,n,p);break;case 29:case 30:case 31:case 32:this.effect_29_30_31_32(l,a,n,p)}}},e.effect_0_2_3_4_5=function(t,e,i,s){var a=[],n=2==this.effect||3==this.effect?2==this.effect?-1:1:0,o=4==this.effect||5==this.effect?4==this.effect?-1:1:0,r=-1*n*this.albumWidth,l=-1*o*this.albumHeight;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+"\");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);'></div>"),
a.push("<div class='back' style='position:absolute;left:"+r+"px;top:"+l+"px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");backface-visibility:hidden;background-size:cover;opacity:0;alpha(opacity=0);'></div>"),t.innerHTML=a.join("");var h=this,c=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];if(0==h.effect)fadeElement(null,i,1,0,.02,function(t){fadeElement(null,e,0,1,.02,s)});else{var a=stepH/h.albumWidth;fadeElement(null,i,1,0,a),fadeElement(null,e,0,1,a),2==h.effect||3==h.effect?(scrollElement(null,i,n*h.albumWidth,0),scrollElement(null,e,n*h.albumWidth,0,s)):(scrollElement(null,i,0,o*h.albumHeight),scrollElement(null,e,0,o*h.albumHeight,s))}};setTimeout(c,50)},e.effect_1_6_7_8_9_10_11=function(t,e,i,s){var a=[];a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");backface-visibility:hidden;background-size:cover;opacity:0;alpha(opacity=0);'+(1==this.effect?"-webkit-transition: opacity 1.5s ease; transition: opacity 1.5s ease;":"")+(6==this.effect?"-webkit-transition: 1.5s; transition: 1.5s;-webkit-transform-style: preserve-3d; transform-style: preserve-3d;-webkit-transform:rotateX(180deg);transform:rotateX(180deg);":"")+(7==this.effect?"-webkit-transition: 1.5s; transition: 1.5s;-webkit-transform-style: preserve-3d; transform-style: preserve-3d;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);":"")+(8==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(0,0);transform:scale(0,0);-webkit-transform-origin:bottom left;transform-origin:bottom left;":"")+(9==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(0,0);transform:scale(0,0);":"")+(10==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:rotate(0deg) scale(0,0);transform:rotate(0deg) scale(0,0);":"")+(11==this.effect?"-webkit-transform: rotateY(-180deg);transform:rotateY(-180deg);-webkit-transition:1.5s;transition:1.5s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform-origin: center center; transform-origin: center center;":"")+"'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);'+(1==this.effect?"-webkit-transition: opacity 1.5s ease; transition: opacity 1.5s ease;":"")+(6==this.effect?"-webkit-transition: 1.5s; transition: 1.5s;-webkit-transform-style: preserve-3d; transform-style: preserve-3d;-webkit-transform:rotateX(0deg);transform:rotateX(0deg);":"")+(7==this.effect?"-webkit-transition: 1.5s; transition: 1.5s;-webkit-transform-style: preserve-3d; transform-style: preserve-3d;-webkit-transform:rotateY(0deg);transform:rotateY(0deg);":"")+(8==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(1,1);transform:scale(1,1);-webkit-transform-origin:top right;transform-origin:top right;":"")+(9==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(1,1);transform:scale(1,1);":"")+(10==this.effect?"-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:rotate(0deg) scale(1,1);transform:rotate(0deg) scale(1,1);":"")+(11==this.effect?"-webkit-transform:rotateY(0deg);transform:rotateY(0deg);-webkit-transition:1.5s;transition:1.5s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform-origin: center center; transform-origin: center center;":"")+"'></div>"),t.innerHTML=a.join("");var n=this,o=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];1==n.effect?(i.style.opacity=0,e.style.opacity=1):6==n.effect?(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="rotateX(0deg)",e.style.webkitTransform="rotateX(0deg)",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="rotateX(180deg)",i.style.webkitTransform="rotateX(180deg)"):7==n.effect?(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="rotateY(0deg)",e.style.webkitTransform="rotateY(0deg)",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="rotateY(180deg)",i.style.webkitTransform="rotateY(180deg)"):8==n.effect?(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="scale(1,1)",e.style.transformOrigin="top right",e.style.webkitTransform="scale(1,1)",e.style.webkitTransformOrigin="top right",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="scale(0,0)",i.style.transformOrigin="bottom left",i.style.webkitTransform="scale(0,0)",i.style.webkitTransformOrigin="bottom left"):9==n.effect?(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="scale(1,1)",e.style.webkitTransform="scale(1,1)",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="scale(0,0)",i.style.webkitTransform="scale(0,0)"):10==n.effect?(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="rotate(360deg) scale(1,1)",e.style.webkitTransform="rotate(360deg) scale(1,1)",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="rotate(360deg) scale(0,0)",i.style.webkitTransform="rotate(360deg) scale(0,0)"):11==n.effect&&(e.style.opacity=1,e.style.filter="alpha(opacity=1)",e.style.webkitFilter="alpha(opacity=1)",e.style.transform="rotateY(0deg)",e.style.webkitTransform="rotateY(0deg)",i.style.opacity=0,i.style.filter="alpha(opacity=0)",i.style.webkitFilter="alpha(opacity=0)",i.style.transform="rotateY(180deg)",i.style.webkitTransform="rotateY(180deg)"),n.afterTransition(i,s)};setTimeout(o,50)},e.effect_12_13=function(t,e,i,s){for(var a=[],n=Math.round(this.albumWidth/this.slices),o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=12==this.effect?r-50:l-50;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");background-size:cover;opacity:0;alpha(opacity=0);clip:rect(0px,'+r+"px,"+this.albumHeight+"px,"+h+"px);transition:1s;transform:rotateY("+(12==this.effect?"-180":"180")+"deg) translateZ(1px);transition-delay:"+u+"ms;transform-origin:"+c+"px 0px;-webkit-transition:1s;-webkit-transform:rotateY("+(12==this.effect?"-180":"180")+"deg) translateZ(1px);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:"+c+"px 0px;'></div>")}for(var o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=12==this.effect?r-50:l-50;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");background-size:cover;opacity:1;alpha(opacity=1);clip:rect(0px,'+r+"px,"+this.albumHeight+"px,"+h+"px);transition:1s;transform:rotateY(0deg);transition-delay:"+u+"ms;transform-origin:"+c+"px 0px;-webkit-transition:1s;-webkit-transform:rotateY(0deg);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:"+c+"px 0px;'></div>")}t.innerHTML=a.join("");var p=this,d=function(){for(var e=t.getElementsByClassName("front"),i=t.getElementsByClassName("back"),a=0;a<e.length;a++)i[a].style.opacity=1,i[a].style.filter="alpha(opacity=1)",i[a].style.webkitFilter="alpha(opacity=1)",i[a].style.transform="rotateY(0deg) translateZ(1px)",i[a].style.webkitTransform="rotateY(0deg) translateZ(1px)",e[a].style.opacity=0,e[a].style.filter="alpha(opacity=0)",e[a].style.webkitFilter="alpha(opacity=0)",e[a].style.transform="rotateY("+(8==p.effect?"180":"-180")+"deg)",e[a].style.webkitTransform="rotateY("+(8==p.effect?"180":"-180")+"deg)";p.afterTransition(i[12==p.effect?p.slices/2:p.slices/2-1],s)};setTimeout(d,50)},e.effect_14_15=function(t,e,i,s){for(var a=[],n=Math.round(this.albumHeight/this.slices),o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=14==this.effect?r-50:l-50;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");background-size:cover;opacity:0;alpha(opacity=0);clip:rect('+h+"px,"+this.albumWidth+"px,"+r+"px,0px);transition:1s;transform:rotateX("+(14==this.effect?"-180":"180")+"deg) translateZ(1px);transition-delay:"+u+"ms;transform-origin:0px "+c+"px;-webkit-transition:1s;-webkit-transform:rotateX("+(14==this.effect?"-180":"180")+"deg) translateZ(1px);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:0px "+c+"px;'></div>")}for(var o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=14==this.effect?r-50:l-50;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");background-size:cover;opacity:1;alpha(opacity=1);clip:rect('+h+"px,"+this.albumWidth+"px,"+r+"px,0px);transition:1s;transform:rotateX(0deg);transition-delay:"+u+"ms;transform-origin:0px "+c+"px;-webkit-transition:1s;-webkit-transform:rotateX(0deg);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:0px "+c+"px;'></div>")}t.innerHTML=a.join("");var p=this,d=function(){for(var e=t.getElementsByClassName("front"),i=t.getElementsByClassName("back"),a=0;a<e.length;a++)i[a].style.opacity=1,i[a].style.filter="alpha(opacity=1)",i[a].style.webkitFilter="alpha(opacity=1)",i[a].style.transform="rotateX(0deg) translateZ(1px)",i[a].style.webkitTransform="rotateX(0deg) translateZ(1px)",e[a].style.opacity=0,e[a].style.filter="alpha(opacity=0)",e[a].style.webkitFilter="alpha(opacity=0)",e[a].style.transform="rotateX("+(10==p.effect?"180":"-180")+"deg)",e[a].style.webkitTransform="rotateX("+(10==p.effect?"180":"-180")+"deg)";p.afterTransition(i[14==p.effect?p.slices/2:p.slices/2-1],s)};setTimeout(d,50)},e.effect_16_17_18_19=function(t,e,i,s){for(var a=[],n=Math.round(this.albumWidth/this.slices),o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=16==this.effect||18==this.effect?r-50:l-50;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");background-size:cover;opacity:0;alpha(opacity=0);clip:rect(0px,'+r+"px,"+this.albumHeight+"px,"+h+"px);transition:1s;transform:rotateX("+(16==this.effect||18==this.effect?"-180":"180")+"deg);transition-delay:"+u+"ms;transform-origin:0px "+c+"px;-webkit-transition:1s;-webkit-transform:rotateX("+(16==this.effect||18==this.effect?"-180":"180")+"deg);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:0px "+c+"px;'></div>")}for(var o=1;o<=this.slices;o++){var r=o*n,l=(this.slices-o+1)*n,h=r-n,c=r-50,u=16==this.effect||18==this.effect?r-50:l-50;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");background-size:cover;opacity:1;alpha(opacity=1);clip:rect(0px,'+r+"px,"+this.albumHeight+"px,"+h+"px);transition:1s;transform:rotateX(0deg);transition-delay:"+u+"ms;transform-origin:0px "+c+"px;-webkit-transition:1s;-webkit-transform:rotateX(0deg);-webkit-transition-delay:"+u+"ms;-webkit-transform-origin:0px "+c+"px;'></div>")}t.innerHTML=a.join(""),t.style.backgroundImage=16==this.effect||17==this.effect?"url('"+i+"')":"none";var p=this,d=function(){for(var e=t.getElementsByClassName("front"),i=t.getElementsByClassName("back"),a=0;a<e.length;a++)i[a].style.opacity=1,i[a].style.filter="alpha(opacity=1)",i[a].style.webkitFilter="alpha(opacity=1)",i[a].style.transform="rotateX(0deg) translateZ(0px)",i[a].style.webkitTransform="rotateX(0deg) translateZ(0px)",e[a].style.opacity=0,e[a].style.filter="alpha(opacity=0)",e[a].style.webkitFilter="alpha(opacity=0)",e[a].style.transform="rotateX("+(16==p.effect||18==p.effect?"180":"-180")+"deg)",e[a].style.webkitTransform="rotateX("+(16==p.effect||18==p.effect?"180":"-180")+"deg)";p.afterTransition(i[16==p.effect||18==p.effect?p.slices-1:0],s)};setTimeout(d,50)},e.effect_20=function(t,e,i,s){var a,n=Math.round(this.albumWidth/this.boxes),o=Math.round(this.albumHeight/this.boxes),r=resizeKeepingRatio(n,o,4,4),l=r.width,h=r.height,c=this;t.style.backgroundImage="url('"+i+"')";var u=function(){if(l>=n&&h>=o)return cancelAnimationFrame(a),void s();for(var i=[],p=0;p<c.boxes;p++)for(var d=p*n,m=d+l>d+n?d+n:d+l,f=0;f<c.boxes;f++){var g=f*o,b=g+h>g+o?g+o:g+h;i.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+c.albumWidth+"px;height:"+c.albumHeight+'px;backface-visibility:visible;background-image: url("'+e+'");background-size:cover;clip:rect('+g+"px,"+m+"px,"+b+"px,"+d+"px);clip-path:rest("+g+"px,"+m+"px,"+b+"px,"+d+"px);-webkit-clip-path:rest("+g+"px,"+m+"px,"+b+"px,"+d+"px);'></div>")}l+=r.width,h+=r.height,t.innerHTML=i.join(""),a=requestAnimationFrame(u)};u()},e.effect_21=function(t,e,i,s){var a,n=Math.round(this.albumWidth/this.boxes),o=Math.round(this.albumHeight/this.boxes),r=resizeKeepingRatio(n,o,4,4),l=r.width,h=r.height,c=this;t.style.backgroundImage="url('"+i+"')";for(var u=[],p=[],d=0,m=0;m<this.boxes;m++)for(var f=0;f<this.boxes;f++)u[d]=d++;d=0;for(var m=0;m<this.boxes;m++){p[d++]=u[m];for(var f=1;m>=f;f++)p[d++]=u[f*(this.boxes-1)+m]}for(var m=2;m<=this.boxes;m++){p[d++]=u[m*(this.boxes-1)+(m-1)];for(var f=m+1;f<=this.boxes;f++)p[d++]=u[f*(this.boxes-1)+(m-1)]}var g=this.boxes,b=0;do b+=2*g-1,g-=2;while(g>0);var y=function(){if(l>=n&&h>=o)return cancelAnimationFrame(a),void s();for(var i=[],u=0;b>u;u++){var d=p[u]%c.boxes,m=Math.floor(p[u]/c.boxes),f=d*n,g=f+l>f+n?f+n:f+l,v=m*o,x=v+h>v+o?v+o:v+h;i.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+c.albumWidth+"px;height:"+c.albumHeight+'px;backface-visibility:visible;background-image: url("'+e+'");background-size:cover;clip:rect('+v+"px,"+g+"px,"+x+"px,"+f+"px);clip-path:rest("+v+"px,"+g+"px,"+x+"px,"+f+"px);-webkit-clip-path:rest("+v+"px,"+g+"px,"+x+"px,"+f+"px);'></div>")}l+=r.width,h+=r.height,t.innerHTML=i.join(""),a=requestAnimationFrame(y)};y()},e.effect_22=function(t,e,i,s){for(var a=[],n=Math.round(this.albumWidth/this.boxes),o=Math.round(this.albumHeight/this.boxes),r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=1;c<=this.boxes;c++){var u=c*o,p=u-o;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");backface-visibility:hidden;background-size:cover;opacity:0;alpha(opacity=0);clip:rect('+p+"px,"+l+"px,"+u+"px,"+h+"px);-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(0,0);transform:scale(0,0);'></div>")}for(var r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=1;c<=this.boxes;c++){var u=c*o,p=u-o;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);clip:rect('+p+"px,"+l+"px,"+u+"px,"+h+"px);-webkit-transition: all 1.5s ease-in-out;transition: all 1.5s ease-in-out;-webkit-transform:scale(1,1);transform:scale(1,1);'></div>")}t.innerHTML=a.join("");for(var d=[],m=[],f=0,g=10,r=0;r<this.boxes;r++)for(var c=0;c<this.boxes;c++)d[f]=f++;f=0;for(var r=0;r<this.boxes;r++){m[f++]={index:d[r],delay:g};for(var c=1;r>=c;c++)m[f++]={index:d[c*(this.boxes-1)+r],delay:g};g+=100}for(var r=2;r<=this.boxes;r++){m[f++]={index:d[r*(this.boxes-1)+(r-1)],delay:g};for(var c=r+1;c<=this.boxes;c++)m[f++]={index:d[c*(this.boxes-1)+(r-1)],delay:g};g+=100}var b=this,y=function(){for(var e=t.getElementsByClassName("front"),i=t.getElementsByClassName("back"),a=0;a<m.length;a++){var n=m[a].index;i[n].style.opacity=1,i[n].style.filter="alpha(opacity=1)",i[n].style.webkitFilter="alpha(opacity=1)",i[n].style.transform="scale(1,1)",i[n].style.webkitTransform="scale(1,1)",i[n].style.transitionDelay=m[a].delay+"ms",i[n].style.webkitTransitionDelay=m[a].delay+"ms",e[n].style.opacity=0,e[n].style.filter="alpha(opacity=0)",e[n].style.webkitFilter="alpha(opacity=0)",e[n].style.transform="scale(0,0)",e[n].style.webkitTransform="scale(0,0)",e[n].style.transitionDelay=m[a].delay+"ms",e[n].style.webkitTransitionDelay=m[a].delay+"ms"}b.afterTransition(i[a-1],s)};setTimeout(y,50)},e.effect_23=function(t,e,i,s){for(var a=[],n=Math.round(this.albumWidth/this.boxes),o=Math.round(this.albumHeight/this.boxes),r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=1;c<=this.boxes;c++){var u=c*o,p=u-o;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");backface-visibility:hidden;background-size:cover;opacity:0;alpha(opacity=0);clip:rect('+p+"px,"+l+"px,"+u+"px,"+h+"px);transform-style:preserve-3d;transform-origin:center center;transition:transform 1.5s;transform:rotateY(-180deg) translateZ(1px);-webkit-transform-style:preserve-3d;-webkit-transform-origin:center center;-webkit-transition:transform 1.5s;-webkit-transform:rotateY(-180deg) translateZ(1px);'></div>")}for(var r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=1;c<=this.boxes;c++){var u=c*o,p=u-o;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);clip:rect('+p+"px,"+l+"px,"+u+"px,"+h+"px);transform-style:preserve-3d;transform-origin:center center;transition:transform 1.5s;transform:rotateX(0deg);-webkit-transform-style:preserve-3d;-webkit-transform-origin:center center;-webkit-transition:transform 1.5s;-webkit-transform:rotateX(0deg);'></div>")}t.innerHTML=a.join(""),t.style.backgroundImage="url('"+i+"')";var d=this,m=function(){for(var e=t.getElementsByClassName("front"),i=t.getElementsByClassName("back"),a=0;a<i.length;a++){var n=Math.floor(1e3*Math.random()+1);i[a].style.opacity=1,i[a].style.filter="alpha(opacity=1)",i[a].style.webkitFilter="alpha(opacity=1)",i[a].style.transform="rotateY(0deg)",i[a].style.webkitTransform="rotateY(0deg)",i[a].style.transitionDelay=n+"ms",i[a].style.webkitTransitionDelay=n+"ms",e[a].style.opacity=1,e[a].style.filter="alpha(opacity=1)",e[a].style.webkitFilter="alpha(opacity=1)",e[a].style.transform="rotateX(180deg)",e[a].style.webkitTransform="rotateX(180deg)",e[a].style.transitionDelay=n+"ms",e[a].style.webkitTransitionDelay=n+"ms"}d.afterTransition(i[a-1],s)};setTimeout(m,50)},e.effect_24=function(t,e,i,s){for(var a=[],n=Math.round(this.albumWidth/this.boxes),o=Math.round(this.albumHeight/this.boxes),r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=l-n/2,u=1;u<=this.boxes;u++){var p=u*o,d=p-o,m=p-o/2;a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+'");backface-visibility:hidden;background-size:cover;opacity:0;alpha(opacity=0);clip:rect('+d+"px,"+l+"px,"+p+"px,"+h+"px);transform-style:preserve-3d;transform-origin:"+c+"px "+m+"px;transition:transform 1.5s;transform:rotateY(-180deg) translateZ(1px);-webkit-transform-style:preserve-3d;-webkit-transform-origin:"+c+"px "+m+"px;-webkit-transition:transform 1.5s;-webkit-transform:rotateY(-180deg) translateZ(1px);'></div>")}for(var r=1;r<=this.boxes;r++)for(var l=r*n,h=l-n,c=l-n/2,u=1;u<=this.boxes;u++){var p=u*o,d=p-o,m=p-o/2;a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+'");backface-visibility:hidden;background-size:cover;opacity:1;alpha(opacity=1);clip:rect('+d+"px,"+l+"px,"+p+"px,"+h+"px);transform-style:preserve-3d;transform-origin:"+c+"px "+m+"px;transition:transform 1.5s;transform:rotateX(0deg);-webkit-transform-style:preserve-3d;-webkit-transform-origin:"+c+"px "+m+"px;-webkit-transition:transform 1.5s;-webkit-transform:rotateX(0deg);'></div>")}t.innerHTML=a.join("");var f=this,g=function(){for(var e=[],a=[],n=0,o=10,r=0;r<f.boxes;r++)for(var l=0;l<f.boxes;l++)e[n]=n++;n=0;for(var r=0;r<f.boxes;r++){a[n++]={index:e[r],delay:o};for(var l=1;r>=l;l++)a[n++]={index:e[l*(f.boxes-1)+r],delay:o};o+=100}for(var r=2;r<=f.boxes;r++){a[n++]={index:e[r*(f.boxes-1)+(r-1)],delay:o};for(var l=r+1;l<=f.boxes;l++)a[n++]={index:e[l*(f.boxes-1)+(r-1)],delay:o};o+=100}t.style.backgroundImage="url('"+i+"')";for(var h=t.getElementsByClassName("front"),c=t.getElementsByClassName("back"),r=0;r<a.length;r++){var u=a[r].index;c[u].style.opacity=1,c[u].style.filter="alpha(opacity=1)",c[u].style.webkitFilter="alpha(opacity=1)",c[u].style.transform="rotateY(0deg)",c[u].style.webkitTransform="rotateY(0deg)",c[u].style.transitionDelay=a[r].delay+"ms",c[u].style.webkitTransitionDelay=a[r].delay+"ms",h[u].style.opacity=1,h[u].style.filter="alpha(opacity=1)",h[u].style.webkitFilter="alpha(opacity=1)",h[u].style.transform="rotateX(180deg)",h[u].style.webkitTransform="rotateX(180deg)",h[u].style.transitionDelay=a[r].delay+"ms",h[u].style.webkitTransitionDelay=a[r].delay+"ms"}f.afterTransition(c[r-1],s)};setTimeout(g,50)},e.effect_25=function(t,e,i,s){var a=[];this.holeOut_Style(a),this.swashin_Style(a),a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");background-size:cover;opacity:0;alpha(opacity=0);-webkit-transition: opacity 1.5s ease; transition: opacity 1.5s ease;'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+"\");background-size:cover;opacity:1;alpha(opacity=1);-webkit-transition: opacity 1.5s ease; transition: opacity 1.5s ease;'></div>"),t.innerHTML=a.join("");var n=this,o=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];e.classList.add("swashin"),i.classList.add("holeOut"),n.afterAnimation(i,function(){e.classList.remove("swashin"),i.classList.remove("holeOut"),s()})};setTimeout(o,50)},e.effect_26=function(t,e,i,s){var a=[];this.boingOutDown_Style(a),this.boingInUp_Style(a),a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");background-size:cover;'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+"\");background-size:cover;'></div>"),t.innerHTML=a.join("");var n=this,o=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];e.classList.add("boingInUp"),i.classList.add("boingOutDown"),n.afterAnimation(i,function(){setTimeout(function(){e.classList.remove("boingInUp"),i.classList.remove("boingOutDown"),s()},3800)})};setTimeout(o,50)},e.effect_27=function(t,e,i,s){var a=[];this.slideDown_Style(a),this.slideUp_Style(a),a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");background-size:cover;'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;pointer-events:auto;background-image: url("'+i+"\");background-size:cover;'></div>"),t.innerHTML=a.join("");var n=this,o=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];e.classList.add("slideUp"),i.classList.add("slideDown"),n.afterAnimation(i,function(){e.classList.remove("slideUp"),i.classList.remove("slideDown"),s()})};setTimeout(o,50)},e.effect_28=function(t,e,i,s){var a=[];this.slideLeft_Style(a),this.slideRight_Style(a),a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");background-size:cover;'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+"\");background-size:cover;'></div>"),t.innerHTML=a.join("");var n=this,o=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];e.classList.add("slideLeft"),i.classList.add("slideRight"),n.afterAnimation(i,function(){e.classList.remove("slideLeft"),i.classList.remove("slideRight"),s()})};setTimeout(o,50)},e.effect_29_30_31_32=function(t,e,i,s){var a=[],n=29==this.effect||30==this.effect,o=29==this.effect||32==this.effect;this.slideCubeOut_Style(a,n?!0:!1,o?1:-1),this.slideCubeIn_Style(a,n?!0:!1,o?1:-1),a.push("<div class='back' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+e+"\");backface-visibility:hidden;background-size:cover;'></div>"),a.push("<div class='front' style='position:absolute;left:0px;top:0px;width:"+this.albumWidth+"px;height:"+this.albumHeight+'px;background-image: url("'+i+"\");backface-visibility:hidden;background-size:cover;'></div>"),t.innerHTML=a.join("");var r=this,l=function(){var e=t.getElementsByClassName("back")[0],i=t.getElementsByClassName("front")[0];e.classList.add("cubeIn"),i.classList.add("cubeOut"),r.afterAnimation(e,function(){e.classList.remove("cubeIn"),i.classList.remove("cubeOut"),s()})};setTimeout(l,50)},e.holeOut_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes holeOut "),t.push("{0% {opacity:1;transform-origin:50% 50%;transform:scale(1,1) rotateY(0deg);}"),t.push("100% {opacity:0;transform-origin:50% 50%;transform:scale(0,0) rotateY(180deg);}}"),t.push(".holeOut {animation-duration:2s;animation-fill-mode:both;animation-name: holeOut;}"),t.push("</style>")},e.swashin_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes swashin "),t.push("{0% {opacity:0;transform-origin:50% 50%;transform:scale(0,0);}"),t.push("90% {opacity:1;transform-origin:50% 50%;transform:scale(0.9,0.9);}"),t.push("100% {opacity:1;transform-origin:50% 50%;transform:scale(1,1);}}"),t.push(".swashin {animation-duration:2s;animation-fill-mode:both;animation-name: swashin;}"),t.push("</style>")},e.boingOutDown_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes boingOutDown "),t.push("{0% {opacity:1;transform-origin:100% 100%;transform:perspective(800px) rotateX(0deg) rotateY(0deg);}"),t.push("20% {opacity:1;transform-origin:100% 100%;transform:perspective(800px) rotateX(0deg) rotateY(5deg);}"),t.push("30% {opacity:1;transform-origin:0% 100%;transform:perspective(800px) rotateX(0deg) rotateY(0deg);}"),t.push("40% {opacity:1;transform-origin:0% 100%;transform:perspective(800px) rotateX(10deg) rotateY(10deg);}"),t.push("100% {opacity:0;transform-origin:100% 100%;transform:perspective(800px) rotateX(90deg) rotateY(0deg);}}"),t.push(".boingOutDown {animation-duration:1s;animation-fill-mode:both;animation-name: boingOutDown;}"),t.push("</style>")},e.boingInUp_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes boingInUp "),t.push("{0% {opacity:0;transform-origin:50% 0%;transform:perspective(800px) rotateX(-90deg);}"),t.push("50% {opacity:1;transform-origin:50% 0%;transform:perspective(800px) rotateX(50deg);}"),t.push("100% {opacity:1;transform-origin:50% 0%;transform:perspective(800px) rotateX(0deg);}}"),t.push(".boingInUp {animation-duration:5s;animation-fill-mode:both;animation-name: boingInUp;}"),t.push("</style>")},e.slideDown_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes slideDown "),t.push("{0% {transform-origin: 0 0;transform: translateY(0%);}"),t.push("100% {transform-origin: 0 0;transform: translateY(100%);}}"),t.push(".slideDown {animation-duration:1s;animation-fill-mode:both;animation-name: slideDown;}"),t.push("</style>")},e.slideUp_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes slideUp "),t.push("{0% {transform-origin: 0 0;transform: translateY(100%);}"),t.push("100% {transform-origin: 0 0;transform: translateY(0%);}}"),t.push(".slideUp {animation-duration:1s;animation-fill-mode:both;animation-name: slideUp;}"),t.push("</style>")},e.slideLeft_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes slideLeft "),t.push("{0% {transform-origin: 0 0;transform: translateX(100%);}"),t.push("100% {transform-origin: 0 0;transform: translateX(0%);}}"),t.push(".slideLeft {animation-duration:1s;animation-fill-mode:both;animation-name: slideLeft;}"),t.push("</style>")},e.slideRight_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes slideRight "),t.push("{0% {transform-origin: 0 0;transform: translateX(0%);}"),t.push("100% {transform-origin: 0 0;transform: translateX(100%);}}"),t.push(".slideRight {animation-duration:1s;animation-fill-mode:both;animation-name: slideRight;}"),t.push("</style>")},e.slideCubeOut_Style=function(t,e,i){var s=e?this.albumWidth/2:this.albumHeight/2,a=e?"rotateY(0deg)":"rotateX(0deg)",n=e?1==i?"rotateY(90deg)":"rotateY(-90deg)":1==i?"rotateX(90deg)":"rotateX(-90deg)";t.push('<style type="text/css">'),t.push("@keyframes cubeOut "),t.push("{0% {transform: "+a+" translateZ("+s+"px);opacity:1;visibility:visible;}"),t.push("100% {transform: "+n+" translateZ("+s+"px);opacity:0;visibility:hidden;}}"),t.push(".cubeOut {animation-duration:2s;animation-timing-function:cubic-bezier(0.5,0.9,0.5,1);animation-name: cubeOut;}"),t.push("</style>")},e.slideCubeIn_Style=function(t,e,i){var s=e?this.albumWidth/2:this.albumHeight/2,a=e?1==i?"rotateY(-90deg)":"rotateY(90deg)":1==i?"rotateX(-90deg)":"rotateX(90deg)",n=e?"rotateY(0deg)":"rotateX(0deg)";t.push('<style type="text/css">'),t.push("@keyframes cubeIn "),t.push("{0% {transform: "+a+" translateZ("+s+"px);opacity:0;visibility:visible;}"),t.push("100% {transform: "+n+" translateZ("+s+"px);opacity:1;visibility:hidden;}}"),t.push(".cubeIn {animation-duration:2s; animation-timing-function:cubic-bezier(0.5,0.9,0.5,1);animation-name: cubeIn;}"),t.push("</style>")},e.slideKenBurns_Style=function(t){t.push('<style type="text/css">'),t.push("@keyframes KenBurns { "),t.push("0% {opacity:1;transform:scale(1);-ms-transform:scale(1); }"),t.push("5% {opacity:1}"),t.push("25% {opacity:1;}"),t.push("50% {opacity:1;transform:scale(1.4);-ms-transform:scale(1.4);}"),t.push("100% {opacity:1;transform:scale(1);-ms-transformm:scale(1);}}"),t.push("@-o-keyframes KenBurns { "),t.push("0% {opacity:1;-o-transform:scale(1);}"),t.push("5% {opacity:1}"),t.push("25% {opacity:1;}"),t.push("50% {opacity:1;-o-transform:scale(1.4);}"),t.push("100% {opacity:1;-o-transformm:scale(1);}}"),t.push("@-moz-keyframes KenBurns { "),t.push("0% {opacity:1;-moz-transform:scale(1.4);}"),t.push("5% {opacity:1}"),t.push("25% {opacity:1;}"),t.push("50% {opacity:1;-moz-transform:scale(1.4);}"),t.push("100% {opacity:1;-moz-transformm:scale(1);}}"),t.push("@-webkit-keyframes KenBurns { "),t.push("0% {opacity:1;-webkit-transform:scale(1);}"),t.push("5% {opacity:1}"),t.push("25% {opacity:1;}"),t.push("50% {opacity:1;-webkit-transform:scale(1.4);}"),t.push("100% {opacity:1;-webkit-transformm:scale(1);}}"),t.push(".KenBurns {animation: KenBurns "+this.autoplayDelay+"ms linear infinite 0s;}"),t.push(".KenBurns {-o-animation: KenBurns "+this.autoplayDelay+" linear infinite 0s;}"),t.push(".KenBurns {-moz-animation: KenBurns "+this.autoplayDelay+" linear infinite 0s;}"),t.push(".KenBurns {-webkit-animation: KenBurns "+this.autoplayDelay+" linear infinite 0s;}"),
t.push("</style>")},e.afterAnimation=function(t,e){var i="",s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"};for(var a in s)if(void 0!==t.style[a]){i=s[a];break}var n=function(){t.removeEventListener(i,n),e()};t.addEventListener(i,n,!1)},e.afterTransition=function(t,e){var i="",s={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};for(var a in s)if(void 0!==t.style[a]){i=s[a];break}var n=function(){t.removeEventListener(i,n),e()};t.addEventListener(i,n,!1)},e.createTestAlbum=function(){var t={width:980,height:580,thumbWidth:100,thumbHeight:68,originWidth:1366,originHeight:768,imagePath:"img/pixshow/",albums:[{title:"Bing pictures - July 2016",description:"Bing pictures of july 2016",url:"file:///C:/SPU/works/javascript/nmdrToolkits/img/pixshow/bing/2016/",path:"july/",image:"july.jpg",picname:null,order:!1,picsCount:-1,pics:[{name:"CoraciasGarrulus_EN-US7934186588_1366x768.jpg",desc:"Coracias Garrulus",video:!1},{name:"BloodMoon_GettyRM_495644264_768_EN-US.jpg",desc:"Blood Moon",video:!0},{name:"DiaDosNamorados_EN-US10842918196_1366x768.jpg",desc:"Dia Dos Namorados",video:!1},{name:"MuizenbergSA_EN-US9176714978_1366x768.jpg",desc:"Muizenberg SA",video:!1},{name:"PatrioticLifeguard_EN-US9848917371_1366x768.jpg",desc:"Patriotic Lifeguard",video:!1},{name:"SpottedPorcupinefish_EN-US11134793223_1366x768.jpg",desc:"Spotted Porcupinefish",video:!1},{name:"WatchmanPeak_EN-US13273452928_1366x768.jpg",desc:"Watchman Peak",video:!1},{name:"ZanzibarRedColobus_EN-US10197417600_1366x768.jpg",desc:"Zanzibar RedColobus",video:!1}]},{title:"Bing pictures - August 2016",description:"Bing pictures of agust 2016",url:"file:///C:/SPU/works/javascript/nmdrToolkits/img/pixshow/bing/2016/",path:"august/",image:"august.jpg",picname:null,order:!1,picsCount:-1,pics:[{name:"AddoElephants_EN-US13305434742_1366x768.jpg",desc:"Addo Elephants",video:!1},{name:"ChicagoHarborLH_EN-US10112554534_1366x768.jpg",desc:"Chicago Harbor LH",video:!1},{name:"GFLions_EN-US11413405777_1366x768.jpg",desc:"G F Lions",video:!1},{name:"CircularIncaTerraces_EN-US11717004365_1366x768.jpg",desc:"Circular IncaTerraces",video:!1},{name:"HarbinOperaHouse_EN-US10126072780_1366x768.jpg",desc:"Harbin Opera House",video:!1},{name:"KerichoTea_EN-US6909044062_1366x768.jpg",desc:"Kericho Tea",video:!1},{name:"Matterhorn_3_nimia-4K_336262_768_EN-US.jpg",desc:"Matterhorn",video:!0},{name:"KingFisherPhoto_EN-US13774465411_1366x768.jpg",desc:"King Fisher Photo",video:!1},{name:"MariaLenkDive_EN-US10833846465_1366x768.jpg",desc:"Maria Lenk Dive",video:!1},{name:"RedSea_CoralReef_Getty-RF-534019530_768_EN-US.jpg",desc:"RedSea CoralReef Getty-RF",video:!0},{name:"PortageValley_EN-US8340194401_1366x768.jpg",desc:"Portage Valley",video:!1},{name:"SP_Dartmoor_NtlPark_Sunset_Nimia_4K_239546_768_EN-US.jpg",desc:"SP Dartmoor NtlPark Sunset Nimia",video:!0}]},{title:"Bing pictures - September 2016",description:"Bing pictures of september 2016",url:"file:///C:/SPU/works/javascript/nmdrToolkits/img/pixshow/bing/2016/",path:"september/",image:"september.jpg",picname:null,order:!1,picsCount:-1,pics:[{name:"SnowdoniaAlgae_EN-US14782527027_1366x768.jpg",desc:"Snowdonia Algae",video:!1},{name:"SalteeGannets_EN-US13464110436_1366x768.jpg",desc:"Saltee Gannets",video:!1},{name:"Meteora_Greece_Nimia_4K_315956_768_EN-US.jpg",desc:"Meteora",video:!0},{name:"MoscowSkyline_EN-US10373876477_1366x768.jpg",desc:"Moscow Skyline",video:!1},{name:"StatenIsland911_EN-US11413128946_1366x768.jpg",desc:"Staten Island911",video:!1},{name:"TalkLikeAPirate_EN-US8324063595_1366x768.jpg",desc:"Talk Like A Pirate",video:!1},{name:"UmpquaLichen_EN-US10319432488_1366x768.jpg",desc:"Umpqua Lichen",video:!1},{name:"Waterfalls_Phnom_Kulen_Natl_Park_shutterstock_5582423_768_EN-US.jpg",desc:"Waterfalls Phnom Kulen",video:!0},{name:"Castelmezzano_EN-US11750585825_1366x768.jpg",desc:"Castelmezzano",video:!1},{name:"RedSeaWhip_EN-US9130505730_1366x768.jpg",desc:"RedSea Whip",video:!1},{name:"MochoPuma_EN-US14722409029_1366x768.jpg",desc:"Mocho Puma",video:!1}]}]};return t},e)}var stepH=20,stepV=10;!function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),a=Math.max(0,16-(s-t)),n=window.setTimeout(function(){e(s+a)},a);return t=s+a,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var nmdrTimer=null,currPopup=null,currInvokers=[],currCallback=null,currCanCloseCallback=null;